<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../../">
  <title data-ice="title">src/codemirror/mode/apl/apl.js | webrtcdevelopment</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="webrtc based communication and collaboration client. Contains lot of experiments modules "><meta property="twitter:card" content="summary"><meta property="twitter:title" content="webrtcdevelopment"><meta property="twitter:description" content="webrtc based communication and collaboration client. Contains lot of experiments modules "></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/altanai/webrtc"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#scripts">scripts</a><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CanvasRecorder">CanvasRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-GetRecorderType">GetRecorderType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-GifRecorder">GifRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MRecordRTC">MRecordRTC</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MediaStreamRecorder">MediaStreamRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-RecordRTC">RecordRTC</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-RecordRTCConfiguration">RecordRTCConfiguration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-StereoAudioRecorder">StereoAudioRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Whammy">Whammy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-WhammyRecorder">WhammyRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-createFileSharingDiv">createFileSharingDiv</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-_turn.js">_turn.js</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#scripts-rtcconn">scripts/rtcconn</a><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Whammy">Whammy</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/codemirror/mode/apl/apl.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == &quot;object&quot; &amp;&amp; typeof module == &quot;object&quot;) // CommonJS
    mod(require(&quot;../../lib/codemirror&quot;));
  else if (typeof define == &quot;function&quot; &amp;&amp; define.amd) // AMD
    define([&quot;../../lib/codemirror&quot;], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
&quot;use strict&quot;;

CodeMirror.defineMode(&quot;apl&quot;, function() {
  var builtInOps = {
    &quot;.&quot;: &quot;innerProduct&quot;,
    &quot;\\&quot;: &quot;scan&quot;,
    &quot;/&quot;: &quot;reduce&quot;,
    &quot;&#x233F;&quot;: &quot;reduce1Axis&quot;,
    &quot;&#x2340;&quot;: &quot;scan1Axis&quot;,
    &quot;&#xA8;&quot;: &quot;each&quot;,
    &quot;&#x2363;&quot;: &quot;power&quot;
  };
  var builtInFuncs = {
    &quot;+&quot;: [&quot;conjugate&quot;, &quot;add&quot;],
    &quot;&#x2212;&quot;: [&quot;negate&quot;, &quot;subtract&quot;],
    &quot;&#xD7;&quot;: [&quot;signOf&quot;, &quot;multiply&quot;],
    &quot;&#xF7;&quot;: [&quot;reciprocal&quot;, &quot;divide&quot;],
    &quot;&#x2308;&quot;: [&quot;ceiling&quot;, &quot;greaterOf&quot;],
    &quot;&#x230A;&quot;: [&quot;floor&quot;, &quot;lesserOf&quot;],
    &quot;&#x2223;&quot;: [&quot;absolute&quot;, &quot;residue&quot;],
    &quot;&#x2373;&quot;: [&quot;indexGenerate&quot;, &quot;indexOf&quot;],
    &quot;?&quot;: [&quot;roll&quot;, &quot;deal&quot;],
    &quot;&#x22C6;&quot;: [&quot;exponentiate&quot;, &quot;toThePowerOf&quot;],
    &quot;&#x235F;&quot;: [&quot;naturalLog&quot;, &quot;logToTheBase&quot;],
    &quot;&#x25CB;&quot;: [&quot;piTimes&quot;, &quot;circularFuncs&quot;],
    &quot;!&quot;: [&quot;factorial&quot;, &quot;binomial&quot;],
    &quot;&#x2339;&quot;: [&quot;matrixInverse&quot;, &quot;matrixDivide&quot;],
    &quot;&lt;&quot;: [null, &quot;lessThan&quot;],
    &quot;&#x2264;&quot;: [null, &quot;lessThanOrEqual&quot;],
    &quot;=&quot;: [null, &quot;equals&quot;],
    &quot;&gt;&quot;: [null, &quot;greaterThan&quot;],
    &quot;&#x2265;&quot;: [null, &quot;greaterThanOrEqual&quot;],
    &quot;&#x2260;&quot;: [null, &quot;notEqual&quot;],
    &quot;&#x2261;&quot;: [&quot;depth&quot;, &quot;match&quot;],
    &quot;&#x2262;&quot;: [null, &quot;notMatch&quot;],
    &quot;&#x2208;&quot;: [&quot;enlist&quot;, &quot;membership&quot;],
    &quot;&#x2377;&quot;: [null, &quot;find&quot;],
    &quot;&#x222A;&quot;: [&quot;unique&quot;, &quot;union&quot;],
    &quot;&#x2229;&quot;: [null, &quot;intersection&quot;],
    &quot;&#x223C;&quot;: [&quot;not&quot;, &quot;without&quot;],
    &quot;&#x2228;&quot;: [null, &quot;or&quot;],
    &quot;&#x2227;&quot;: [null, &quot;and&quot;],
    &quot;&#x2371;&quot;: [null, &quot;nor&quot;],
    &quot;&#x2372;&quot;: [null, &quot;nand&quot;],
    &quot;&#x2374;&quot;: [&quot;shapeOf&quot;, &quot;reshape&quot;],
    &quot;,&quot;: [&quot;ravel&quot;, &quot;catenate&quot;],
    &quot;&#x236A;&quot;: [null, &quot;firstAxisCatenate&quot;],
    &quot;&#x233D;&quot;: [&quot;reverse&quot;, &quot;rotate&quot;],
    &quot;&#x2296;&quot;: [&quot;axis1Reverse&quot;, &quot;axis1Rotate&quot;],
    &quot;&#x2349;&quot;: [&quot;transpose&quot;, null],
    &quot;&#x2191;&quot;: [&quot;first&quot;, &quot;take&quot;],
    &quot;&#x2193;&quot;: [null, &quot;drop&quot;],
    &quot;&#x2282;&quot;: [&quot;enclose&quot;, &quot;partitionWithAxis&quot;],
    &quot;&#x2283;&quot;: [&quot;diclose&quot;, &quot;pick&quot;],
    &quot;&#x2337;&quot;: [null, &quot;index&quot;],
    &quot;&#x234B;&quot;: [&quot;gradeUp&quot;, null],
    &quot;&#x2352;&quot;: [&quot;gradeDown&quot;, null],
    &quot;&#x22A4;&quot;: [&quot;encode&quot;, null],
    &quot;&#x22A5;&quot;: [&quot;decode&quot;, null],
    &quot;&#x2355;&quot;: [&quot;format&quot;, &quot;formatByExample&quot;],
    &quot;&#x234E;&quot;: [&quot;execute&quot;, null],
    &quot;&#x22A3;&quot;: [&quot;stop&quot;, &quot;left&quot;],
    &quot;&#x22A2;&quot;: [&quot;pass&quot;, &quot;right&quot;]
  };

  var isOperator = /[\.\/&#x233F;&#x2340;&#xA8;&#x2363;]/;
  var isNiladic = /&#x236C;/;
  var isFunction = /[\+&#x2212;&#xD7;&#xF7;&#x2308;&#x230A;&#x2223;&#x2373;\?&#x22C6;&#x235F;&#x25CB;!&#x2339;&lt;&#x2264;=&gt;&#x2265;&#x2260;&#x2261;&#x2262;&#x2208;&#x2377;&#x222A;&#x2229;&#x223C;&#x2228;&#x2227;&#x2371;&#x2372;&#x2374;,&#x236A;&#x233D;&#x2296;&#x2349;&#x2191;&#x2193;&#x2282;&#x2283;&#x2337;&#x234B;&#x2352;&#x22A4;&#x22A5;&#x2355;&#x234E;&#x22A3;&#x22A2;]/;
  var isArrow = /&#x2190;/;
  var isComment = /[&#x235D;#].*$/;

  var stringEater = function(type) {
    var prev;
    prev = false;
    return function(c) {
      prev = c;
      if (c === type) {
        return prev === &quot;\\&quot;;
      }
      return true;
    };
  };
  return {
    startState: function() {
      return {
        prev: false,
        func: false,
        op: false,
        string: false,
        escape: false
      };
    },
    token: function(stream, state) {
      var ch, funcName, word;
      if (stream.eatSpace()) {
        return null;
      }
      ch = stream.next();
      if (ch === &apos;&quot;&apos; || ch === &quot;&apos;&quot;) {
        stream.eatWhile(stringEater(ch));
        stream.next();
        state.prev = true;
        return &quot;string&quot;;
      }
      if (/[\[{\(]/.test(ch)) {
        state.prev = false;
        return null;
      }
      if (/[\]}\)]/.test(ch)) {
        state.prev = true;
        return null;
      }
      if (isNiladic.test(ch)) {
        state.prev = false;
        return &quot;niladic&quot;;
      }
      if (/[&#xAF;\d]/.test(ch)) {
        if (state.func) {
          state.func = false;
          state.prev = false;
        } else {
          state.prev = true;
        }
        stream.eatWhile(/[\w\.]/);
        return &quot;number&quot;;
      }
      if (isOperator.test(ch)) {
        return &quot;operator apl-&quot; + builtInOps[ch];
      }
      if (isArrow.test(ch)) {
        return &quot;apl-arrow&quot;;
      }
      if (isFunction.test(ch)) {
        funcName = &quot;apl-&quot;;
        if (builtInFuncs[ch] != null) {
          if (state.prev) {
            funcName += builtInFuncs[ch][1];
          } else {
            funcName += builtInFuncs[ch][0];
          }
        }
        state.func = true;
        state.prev = false;
        return &quot;function &quot; + funcName;
      }
      if (isComment.test(ch)) {
        stream.skipToEnd();
        return &quot;comment&quot;;
      }
      if (ch === &quot;&#x2218;&quot; &amp;&amp; stream.peek() === &quot;.&quot;) {
        stream.next();
        return &quot;function jot-dot&quot;;
      }
      stream.eatWhile(/[\w\$_]/);
      word = stream.current();
      state.prev = true;
      return &quot;keyword&quot;;
    }
  };
});

CodeMirror.defineMIME(&quot;text/apl&quot;, &quot;apl&quot;);

});
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
