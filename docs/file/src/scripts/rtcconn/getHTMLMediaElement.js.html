<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../">
  <title data-ice="title">src/scripts/rtcconn/getHTMLMediaElement.js | webrtcdevelopment</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="webrtc based communication and collaboration client. Contains lot of experiments modules "><meta property="twitter:card" content="summary"><meta property="twitter:title" content="webrtcdevelopment"><meta property="twitter:description" content="webrtc based communication and collaboration client. Contains lot of experiments modules "></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/altanai/webrtc"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#scripts">scripts</a><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CanvasRecorder">CanvasRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-GetRecorderType">GetRecorderType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-GifRecorder">GifRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MRecordRTC">MRecordRTC</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MediaStreamRecorder">MediaStreamRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-RecordRTC">RecordRTC</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-RecordRTCConfiguration">RecordRTCConfiguration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-StereoAudioRecorder">StereoAudioRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Whammy">Whammy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-WhammyRecorder">WhammyRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-createFileSharingDiv">createFileSharingDiv</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-_turn.js">_turn.js</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#scripts-rtcconn">scripts/rtcconn</a><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Whammy">Whammy</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/scripts/rtcconn/getHTMLMediaElement.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">// __________________
// getHTMLMediaElement.js

function getHTMLMediaElement(mediaElement, config) {
    config = config || {};

    if (!mediaElement.nodeName || (mediaElement.nodeName.toLowerCase() != &apos;audio&apos; &amp;&amp; mediaElement.nodeName.toLowerCase() != &apos;video&apos;)) {
        if (!mediaElement.getVideoTracks().length) {
            return getAudioElement(mediaElement, config);
        }

        var mediaStream = mediaElement;
        mediaElement = document.createElement(mediaStream.getVideoTracks().length ? &apos;video&apos; : &apos;audio&apos;);

        try {
            mediaElement.setAttributeNode(document.createAttribute(&apos;autoplay&apos;));
            mediaElement.setAttributeNode(document.createAttribute(&apos;playsinline&apos;));
        } catch (e) {
            mediaElement.setAttribute(&apos;autoplay&apos;, true);
            mediaElement.setAttribute(&apos;playsinline&apos;, true);
        }

        if (&apos;srcObject&apos; in mediaElement) {
            mediaElement.srcObject = mediaStream;
        } else {
            mediaElement[!!navigator.mozGetUserMedia ? &apos;mozSrcObject&apos; : &apos;src&apos;] = !!navigator.mozGetUserMedia ? mediaStream : (window.URL || window.webkitURL).createObjectURL(mediaStream);
        }
    }

    if (mediaElement.nodeName &amp;&amp; mediaElement.nodeName.toLowerCase() == &apos;audio&apos;) {
        return getAudioElement(mediaElement, config);
    }

    var buttons = config.buttons || [&apos;mute-audio&apos;, &apos;mute-video&apos;, &apos;full-screen&apos;, &apos;volume-slider&apos;, &apos;stop&apos;];
    buttons.has = function(element) {
        return buttons.indexOf(element) !== -1;
    };

    config.toggle = config.toggle || [];
    config.toggle.has = function(element) {
        return config.toggle.indexOf(element) !== -1;
    };

    var mediaElementContainer = document.createElement(&apos;div&apos;);
    mediaElementContainer.className = &apos;media-container&apos;;

    var mediaControls = document.createElement(&apos;div&apos;);
    mediaControls.className = &apos;media-controls&apos;;
    mediaElementContainer.appendChild(mediaControls);

    if (buttons.has(&apos;mute-audio&apos;)) {
        var muteAudio = document.createElement(&apos;div&apos;);
        muteAudio.className = &apos;control &apos; + (config.toggle.has(&apos;mute-audio&apos;) ? &apos;unmute-audio selected&apos; : &apos;mute-audio&apos;);
        mediaControls.appendChild(muteAudio);

        muteAudio.onclick = function() {
            if (muteAudio.className.indexOf(&apos;unmute-audio&apos;) != -1) {
                muteAudio.className = muteAudio.className.replace(&apos;unmute-audio selected&apos;, &apos;mute-audio&apos;);
                mediaElement.muted = false;
                mediaElement.volume = 1;
                if (config.onUnMuted) config.onUnMuted(&apos;audio&apos;);
            } else {
                muteAudio.className = muteAudio.className.replace(&apos;mute-audio&apos;, &apos;unmute-audio selected&apos;);
                mediaElement.muted = true;
                mediaElement.volume = 0;
                if (config.onMuted) config.onMuted(&apos;audio&apos;);
            }
        };
    }

    if (buttons.has(&apos;mute-video&apos;)) {
        var muteVideo = document.createElement(&apos;div&apos;);
        muteVideo.className = &apos;control &apos; + (config.toggle.has(&apos;mute-video&apos;) ? &apos;unmute-video selected&apos; : &apos;mute-video&apos;);
        mediaControls.appendChild(muteVideo);

        muteVideo.onclick = function() {
            if (muteVideo.className.indexOf(&apos;unmute-video&apos;) != -1) {
                muteVideo.className = muteVideo.className.replace(&apos;unmute-video selected&apos;, &apos;mute-video&apos;);
                mediaElement.muted = false;
                mediaElement.volume = 1;
                mediaElement.play();
                if (config.onUnMuted) config.onUnMuted(&apos;video&apos;);
            } else {
                muteVideo.className = muteVideo.className.replace(&apos;mute-video&apos;, &apos;unmute-video selected&apos;);
                mediaElement.muted = true;
                mediaElement.volume = 0;
                mediaElement.pause();
                if (config.onMuted) config.onMuted(&apos;video&apos;);
            }
        };
    }

    if (buttons.has(&apos;take-snapshot&apos;)) {
        var takeSnapshot = document.createElement(&apos;div&apos;);
        takeSnapshot.className = &apos;control take-snapshot&apos;;
        mediaControls.appendChild(takeSnapshot);

        takeSnapshot.onclick = function() {
            if (config.onTakeSnapshot) config.onTakeSnapshot();
        };
    }

    if (buttons.has(&apos;stop&apos;)) {
        var stop = document.createElement(&apos;div&apos;);
        stop.className = &apos;control stop&apos;;
        mediaControls.appendChild(stop);

        stop.onclick = function() {
            mediaElementContainer.style.opacity = 0;
            setTimeout(function() {
                if (mediaElementContainer.parentNode) {
                    mediaElementContainer.parentNode.removeChild(mediaElementContainer);
                }
            }, 800);
            if (config.onStopped) config.onStopped();
        };
    }

    var volumeControl = document.createElement(&apos;div&apos;);
    volumeControl.className = &apos;volume-control&apos;;

    if (buttons.has(&apos;record-audio&apos;)) {
        var recordAudio = document.createElement(&apos;div&apos;);
        recordAudio.className = &apos;control &apos; + (config.toggle.has(&apos;record-audio&apos;) ? &apos;stop-recording-audio selected&apos; : &apos;record-audio&apos;);
        volumeControl.appendChild(recordAudio);

        recordAudio.onclick = function() {
            if (recordAudio.className.indexOf(&apos;stop-recording-audio&apos;) != -1) {
                recordAudio.className = recordAudio.className.replace(&apos;stop-recording-audio selected&apos;, &apos;record-audio&apos;);
                if (config.onRecordingStopped) config.onRecordingStopped(&apos;audio&apos;);
            } else {
                recordAudio.className = recordAudio.className.replace(&apos;record-audio&apos;, &apos;stop-recording-audio selected&apos;);
                if (config.onRecordingStarted) config.onRecordingStarted(&apos;audio&apos;);
            }
        };
    }

    if (buttons.has(&apos;record-video&apos;)) {
        var recordVideo = document.createElement(&apos;div&apos;);
        recordVideo.className = &apos;control &apos; + (config.toggle.has(&apos;record-video&apos;) ? &apos;stop-recording-video selected&apos; : &apos;record-video&apos;);
        volumeControl.appendChild(recordVideo);

        recordVideo.onclick = function() {
            if (recordVideo.className.indexOf(&apos;stop-recording-video&apos;) != -1) {
                recordVideo.className = recordVideo.className.replace(&apos;stop-recording-video selected&apos;, &apos;record-video&apos;);
                if (config.onRecordingStopped) config.onRecordingStopped(&apos;video&apos;);
            } else {
                recordVideo.className = recordVideo.className.replace(&apos;record-video&apos;, &apos;stop-recording-video selected&apos;);
                if (config.onRecordingStarted) config.onRecordingStarted(&apos;video&apos;);
            }
        };
    }

    if (buttons.has(&apos;volume-slider&apos;)) {
        var volumeSlider = document.createElement(&apos;div&apos;);
        volumeSlider.className = &apos;control volume-slider&apos;;
        volumeControl.appendChild(volumeSlider);

        var slider = document.createElement(&apos;input&apos;);
        slider.type = &apos;range&apos;;
        slider.min = 0;
        slider.max = 100;
        slider.value = 100;
        slider.onchange = function() {
            mediaElement.volume = &apos;.&apos; + slider.value.toString().substr(0, 1);
        };
        volumeSlider.appendChild(slider);
    }

    if (buttons.has(&apos;full-screen&apos;)) {
        var zoom = document.createElement(&apos;div&apos;);
        zoom.className = &apos;control &apos; + (config.toggle.has(&apos;zoom-in&apos;) ? &apos;zoom-out selected&apos; : &apos;zoom-in&apos;);

        if (!slider &amp;&amp; !recordAudio &amp;&amp; !recordVideo &amp;&amp; zoom) {
            mediaControls.insertBefore(zoom, mediaControls.firstChild);
        } else volumeControl.appendChild(zoom);

        zoom.onclick = function() {
            if (zoom.className.indexOf(&apos;zoom-out&apos;) != -1) {
                zoom.className = zoom.className.replace(&apos;zoom-out selected&apos;, &apos;zoom-in&apos;);
                exitFullScreen();
            } else {
                zoom.className = zoom.className.replace(&apos;zoom-in&apos;, &apos;zoom-out selected&apos;);
                launchFullscreen(mediaElementContainer);
            }
        };

        function launchFullscreen(element) {
            if (element.requestFullscreen) {
                element.requestFullscreen();
            } else if (element.mozRequestFullScreen) {
                element.mozRequestFullScreen();
            } else if (element.webkitRequestFullscreen) {
                element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
            }
        }

        function exitFullScreen() {
            if (document.fullscreen) {
                document.cancelFullScreen();
            }

            if (document.mozFullScreen) {
                document.mozCancelFullScreen();
            }

            if (document.webkitIsFullScreen) {
                document.webkitCancelFullScreen();
            }
        }

        function screenStateChange(e) {
            if (e.srcElement != mediaElementContainer) return;

            var isFullScreeMode = document.webkitIsFullScreen || document.mozFullScreen || document.fullscreen;

            mediaElementContainer.style.width = (isFullScreeMode ? (window.innerWidth - 20) : config.width) + &apos;px&apos;;
            mediaElementContainer.style.display = isFullScreeMode ? &apos;block&apos; : &apos;inline-block&apos;;

            if (config.height) {
                mediaBox.style.height = (isFullScreeMode ? (window.innerHeight - 20) : config.height) + &apos;px&apos;;
            }

            if (!isFullScreeMode &amp;&amp; config.onZoomout) config.onZoomout();
            if (isFullScreeMode &amp;&amp; config.onZoomin) config.onZoomin();

            if (!isFullScreeMode &amp;&amp; zoom.className.indexOf(&apos;zoom-out&apos;) != -1) {
                zoom.className = zoom.className.replace(&apos;zoom-out selected&apos;, &apos;zoom-in&apos;);
                if (config.onZoomout) config.onZoomout();
            }
            setTimeout(adjustControls, 1000);
        }

        document.addEventListener(&apos;fullscreenchange&apos;, screenStateChange, false);
        document.addEventListener(&apos;mozfullscreenchange&apos;, screenStateChange, false);
        document.addEventListener(&apos;webkitfullscreenchange&apos;, screenStateChange, false);
    }

    if (buttons.has(&apos;volume-slider&apos;) || buttons.has(&apos;full-screen&apos;) || buttons.has(&apos;record-audio&apos;) || buttons.has(&apos;record-video&apos;)) {
        mediaElementContainer.appendChild(volumeControl);
    }

    var mediaBox = document.createElement(&apos;div&apos;);
    mediaBox.className = &apos;media-box&apos;;
    mediaElementContainer.appendChild(mediaBox);

    if (config.title) {
        var h2 = document.createElement(&apos;h2&apos;);
        h2.innerHTML = config.title;
        h2.setAttribute(&apos;style&apos;, &apos;position: absolute;color:white;font-size:17px;text-shadow: 1px 1px black;padding:0;margin:0;text-align: left; margin-top: 10px; margin-left: 10px; display: block; border: 0;line-height:1.5;z-index:1;&apos;);
        mediaBox.appendChild(h2);
    }

    mediaBox.appendChild(mediaElement);

    if (!config.width) config.width = (innerWidth / 2) - 50;

    mediaElementContainer.style.width = config.width + &apos;px&apos;;

    if (config.height) {
        mediaBox.style.height = config.height + &apos;px&apos;;
    }

    mediaBox.querySelector(&apos;video&apos;).style.maxHeight = innerHeight + &apos;px&apos;;

    var times = 0;

    function adjustControls() {
        mediaControls.style.marginLeft = (mediaElementContainer.clientWidth - mediaControls.clientWidth - 2) + &apos;px&apos;;

        if (slider) {
            slider.style.width = (mediaElementContainer.clientWidth / 3) + &apos;px&apos;;
            volumeControl.style.marginLeft = (mediaElementContainer.clientWidth / 3 - 30) + &apos;px&apos;;

            if (zoom) zoom.style[&apos;border-top-right-radius&apos;] = &apos;5px&apos;;
        } else {
            volumeControl.style.marginLeft = (mediaElementContainer.clientWidth - volumeControl.clientWidth - 2) + &apos;px&apos;;
        }

        volumeControl.style.marginTop = (mediaElementContainer.clientHeight - volumeControl.clientHeight - 2) + &apos;px&apos;;

        if (times &lt; 10) {
            times++;
            setTimeout(adjustControls, 1000);
        } else times = 0;
    }

    if (config.showOnMouseEnter || typeof config.showOnMouseEnter === &apos;undefined&apos;) {
        mediaElementContainer.onmouseenter = mediaElementContainer.onmousedown = function() {
            adjustControls();
            mediaControls.style.opacity = 1;
            volumeControl.style.opacity = 1;
        };

        mediaElementContainer.onmouseleave = function() {
            mediaControls.style.opacity = 0;
            volumeControl.style.opacity = 0;
        };
    } else {
        setTimeout(function() {
            adjustControls();
            setTimeout(function() {
                mediaControls.style.opacity = 1;
                volumeControl.style.opacity = 1;
            }, 300);
        }, 700);
    }

    adjustControls();

    mediaElementContainer.toggle = function(clasName) {
        if (typeof clasName != &apos;string&apos;) {
            for (var i = 0; i &lt; clasName.length; i++) {
                mediaElementContainer.toggle(clasName[i]);
            }
            return;
        }

        if (clasName == &apos;mute-audio&apos; &amp;&amp; muteAudio) muteAudio.onclick();
        if (clasName == &apos;mute-video&apos; &amp;&amp; muteVideo) muteVideo.onclick();

        if (clasName == &apos;record-audio&apos; &amp;&amp; recordAudio) recordAudio.onclick();
        if (clasName == &apos;record-video&apos; &amp;&amp; recordVideo) recordVideo.onclick();

        if (clasName == &apos;stop&apos; &amp;&amp; stop) stop.onclick();

        return this;
    };

    mediaElementContainer.media = mediaElement;

    return mediaElementContainer;
}

// __________________
// getAudioElement.js

function getAudioElement(mediaElement, config) {
    config = config || {};

    if (!mediaElement.nodeName || (mediaElement.nodeName.toLowerCase() != &apos;audio&apos; &amp;&amp; mediaElement.nodeName.toLowerCase() != &apos;video&apos;)) {
        var mediaStream = mediaElement;
        mediaElement = document.createElement(&apos;audio&apos;);

        try {
            mediaElement.setAttributeNode(document.createAttribute(&apos;autoplay&apos;));
            mediaElement.setAttributeNode(document.createAttribute(&apos;controls&apos;));
        } catch (e) {
            mediaElement.setAttribute(&apos;autoplay&apos;, true);
            mediaElement.setAttribute(&apos;controls&apos;, true);
        }

        if (&apos;srcObject&apos; in mediaElement) {
            mediaElement.mediaElement = mediaStream;
        } else {
            mediaElement[!!navigator.mozGetUserMedia ? &apos;mozSrcObject&apos; : &apos;src&apos;] = !!navigator.mozGetUserMedia ? mediaStream : (window.URL || window.webkitURL).createObjectURL(mediaStream);
        }
    }

    config.toggle = config.toggle || [];
    config.toggle.has = function(element) {
        return config.toggle.indexOf(element) !== -1;
    };

    var mediaElementContainer = document.createElement(&apos;div&apos;);
    mediaElementContainer.className = &apos;media-container&apos;;

    var mediaControls = document.createElement(&apos;div&apos;);
    mediaControls.className = &apos;media-controls&apos;;
    mediaElementContainer.appendChild(mediaControls);

    var muteAudio = document.createElement(&apos;div&apos;);
    muteAudio.className = &apos;control &apos; + (config.toggle.has(&apos;mute-audio&apos;) ? &apos;unmute-audio selected&apos; : &apos;mute-audio&apos;);
    mediaControls.appendChild(muteAudio);

    muteAudio.style[&apos;border-top-left-radius&apos;] = &apos;5px&apos;;

    muteAudio.onclick = function() {
        if (muteAudio.className.indexOf(&apos;unmute-audio&apos;) != -1) {
            muteAudio.className = muteAudio.className.replace(&apos;unmute-audio selected&apos;, &apos;mute-audio&apos;);
            mediaElement.muted = false;
            if (config.onUnMuted) config.onUnMuted(&apos;audio&apos;);
        } else {
            muteAudio.className = muteAudio.className.replace(&apos;mute-audio&apos;, &apos;unmute-audio selected&apos;);
            mediaElement.muted = true;
            if (config.onMuted) config.onMuted(&apos;audio&apos;);
        }
    };

    if (!config.buttons || (config.buttons &amp;&amp; config.buttons.indexOf(&apos;record-audio&apos;) != -1)) {
        var recordAudio = document.createElement(&apos;div&apos;);
        recordAudio.className = &apos;control &apos; + (config.toggle.has(&apos;record-audio&apos;) ? &apos;stop-recording-audio selected&apos; : &apos;record-audio&apos;);
        mediaControls.appendChild(recordAudio);

        recordAudio.onclick = function() {
            if (recordAudio.className.indexOf(&apos;stop-recording-audio&apos;) != -1) {
                recordAudio.className = recordAudio.className.replace(&apos;stop-recording-audio selected&apos;, &apos;record-audio&apos;);
                if (config.onRecordingStopped) config.onRecordingStopped(&apos;audio&apos;);
            } else {
                recordAudio.className = recordAudio.className.replace(&apos;record-audio&apos;, &apos;stop-recording-audio selected&apos;);
                if (config.onRecordingStarted) config.onRecordingStarted(&apos;audio&apos;);
            }
        };
    }

    var volumeSlider = document.createElement(&apos;div&apos;);
    volumeSlider.className = &apos;control volume-slider&apos;;
    volumeSlider.style.width = &apos;auto&apos;;
    mediaControls.appendChild(volumeSlider);

    var slider = document.createElement(&apos;input&apos;);
    slider.style.marginTop = &apos;11px&apos;;
    slider.style.width = &apos; 200px&apos;;

    if (config.buttons &amp;&amp; config.buttons.indexOf(&apos;record-audio&apos;) == -1) {
        slider.style.width = &apos; 241px&apos;;
    }

    slider.type = &apos;range&apos;;
    slider.min = 0;
    slider.max = 100;
    slider.value = 100;
    slider.onchange = function() {
        mediaElement.volume = &apos;.&apos; + slider.value.toString().substr(0, 1);
    };
    volumeSlider.appendChild(slider);

    var stop = document.createElement(&apos;div&apos;);
    stop.className = &apos;control stop&apos;;
    mediaControls.appendChild(stop);

    stop.onclick = function() {
        mediaElementContainer.style.opacity = 0;
        setTimeout(function() {
            if (mediaElementContainer.parentNode) {
                mediaElementContainer.parentNode.removeChild(mediaElementContainer);
            }
        }, 800);
        if (config.onStopped) config.onStopped();
    };

    stop.style[&apos;border-top-right-radius&apos;] = &apos;5px&apos;;
    stop.style[&apos;border-bottom-right-radius&apos;] = &apos;5px&apos;;

    var mediaBox = document.createElement(&apos;div&apos;);
    mediaBox.className = &apos;media-box&apos;;
    mediaElementContainer.appendChild(mediaBox);

    var h2 = document.createElement(&apos;h2&apos;);
    h2.innerHTML = config.title || &apos;Audio Element&apos;;
    h2.setAttribute(&apos;style&apos;, &apos;position: absolute;color: rgb(160, 160, 160);font-size: 20px;text-shadow: 1px 1px rgb(255, 255, 255);padding:0;margin:0;&apos;);
    mediaBox.appendChild(h2);

    mediaBox.appendChild(mediaElement);

    mediaElementContainer.style.width = &apos;329px&apos;;
    mediaBox.style.height = &apos;90px&apos;;

    h2.style.width = mediaElementContainer.style.width;
    h2.style.height = &apos;50px&apos;;
    h2.style.overflow = &apos;hidden&apos;;

    var times = 0;

    function adjustControls() {
        mediaControls.style.marginLeft = (mediaElementContainer.clientWidth - mediaControls.clientWidth - 7) + &apos;px&apos;;
        mediaControls.style.marginTop = (mediaElementContainer.clientHeight - mediaControls.clientHeight - 6) + &apos;px&apos;;
        if (times &lt; 10) {
            times++;
            setTimeout(adjustControls, 1000);
        } else times = 0;
    }

    if (config.showOnMouseEnter || typeof config.showOnMouseEnter === &apos;undefined&apos;) {
        mediaElementContainer.onmouseenter = mediaElementContainer.onmousedown = function() {
            adjustControls();
            mediaControls.style.opacity = 1;
        };

        mediaElementContainer.onmouseleave = function() {
            mediaControls.style.opacity = 0;
        };
    } else {
        setTimeout(function() {
            adjustControls();
            setTimeout(function() {
                mediaControls.style.opacity = 1;
            }, 300);
        }, 700);
    }

    adjustControls();

    mediaElementContainer.toggle = function(clasName) {
        if (typeof clasName != &apos;string&apos;) {
            for (var i = 0; i &lt; clasName.length; i++) {
                mediaElementContainer.toggle(clasName[i]);
            }
            return;
        }

        if (clasName == &apos;mute-audio&apos; &amp;&amp; muteAudio) muteAudio.onclick();
        if (clasName == &apos;record-audio&apos; &amp;&amp; recordAudio) recordAudio.onclick();
        if (clasName == &apos;stop&apos; &amp;&amp; stop) stop.onclick();

        return this;
    };

    mediaElementContainer.media = mediaElement;

    return mediaElementContainer;
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
