<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/scripts/screenshot.js | webrtcdevelopment</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="webrtc based communication and collaboration client. Contains lot of experiments modules "><meta property="twitter:card" content="summary"><meta property="twitter:title" content="webrtcdevelopment"><meta property="twitter:description" content="webrtc based communication and collaboration client. Contains lot of experiments modules "></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/altanai/webrtc"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#scripts">scripts</a><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CanvasRecorder">CanvasRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-GetRecorderType">GetRecorderType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-GifRecorder">GifRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MRecordRTC">MRecordRTC</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MediaStreamRecorder">MediaStreamRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-RecordRTC">RecordRTC</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-RecordRTCConfiguration">RecordRTCConfiguration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-StereoAudioRecorder">StereoAudioRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Whammy">Whammy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-WhammyRecorder">WhammyRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-createFileSharingDiv">createFileSharingDiv</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-_turn.js">_turn.js</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#scripts-rtcconn">scripts/rtcconn</a><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Whammy">Whammy</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/scripts/screenshot.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">// Note: All libraries listed in this file are &quot;external libraries&quot; 
// ----  and has their own copyrights. Taken from &quot;html2canvas&quot; project.
&quot;use strict&quot;;

function h2clog(e) {
    if (_html2canvas.logging &amp;&amp; window.webrtcdev &amp;&amp; window.webrtcdev.log) {
        window.webrtcdev.log(e)
    }
}

function backgroundBoundsFactory(e, t, n, r, i, s) {
    var o = _html2canvas.Util.getCSS(t, e, i),
        u, a, f, l;
    if (o.length === 1) {
        l = o[0];
        o = [];
        o[0] = l;
        o[1] = l
    }
    if (o[0].toString().indexOf(&quot;%&quot;) !== -1) {
        f = parseFloat(o[0]) / 100;
        a = n.width * f;
        if (e !== &quot;backgroundSize&quot;) {
            a -= (s || r).width * f
        }
    } else {
        if (e === &quot;backgroundSize&quot;) {
            if (o[0] === &quot;auto&quot;) {
                a = r.width
            } else {
                if (o[0].match(/contain|cover/)) {
                    var c = _html2canvas.Util.resizeBounds(r.width, r.height, n.width, n.height, o[0]);
                    a = c.width;
                    u = c.height
                } else {
                    a = parseInt(o[0], 10)
                }
            }
        } else {
            a = parseInt(o[0], 10)
        }
    }
    if (o[1] === &quot;auto&quot;) {
        u = a / r.width * r.height
    } else if (o[1].toString().indexOf(&quot;%&quot;) !== -1) {
        f = parseFloat(o[1]) / 100;
        u = n.height * f;
        if (e !== &quot;backgroundSize&quot;) {
            u -= (s || r).height * f
        }
    } else {
        u = parseInt(o[1], 10)
    }
    return [a, u]
}

function h2czContext(e) {
    return {
        zindex: e,
        children: []
    }
}

function h2cRenderContext(e, t) {
    var n = [];
    return {
        storage: n,
        width: e,
        height: t,
        clip: function() {
            n.push({
                type: &quot;function&quot;,
                name: &quot;clip&quot;,
                arguments: arguments
            })
        },
        translate: function() {
            n.push({
                type: &quot;function&quot;,
                name: &quot;translate&quot;,
                arguments: arguments
            })
        },
        fill: function() {
            n.push({
                type: &quot;function&quot;,
                name: &quot;fill&quot;,
                arguments: arguments
            })
        },
        save: function() {
            n.push({
                type: &quot;function&quot;,
                name: &quot;save&quot;,
                arguments: arguments
            })
        },
        restore: function() {
            n.push({
                type: &quot;function&quot;,
                name: &quot;restore&quot;,
                arguments: arguments
            })
        },
        fillRect: function() {
            n.push({
                type: &quot;function&quot;,
                name: &quot;fillRect&quot;,
                arguments: arguments
            })
        },
        createPattern: function() {
            n.push({
                type: &quot;function&quot;,
                name: &quot;createPattern&quot;,
                arguments: arguments
            })
        },
        drawShape: function() {
            var e = [];
            n.push({
                type: &quot;function&quot;,
                name: &quot;drawShape&quot;,
                arguments: e
            });
            return {
                moveTo: function() {
                    e.push({
                        name: &quot;moveTo&quot;,
                        arguments: arguments
                    })
                },
                lineTo: function() {
                    e.push({
                        name: &quot;lineTo&quot;,
                        arguments: arguments
                    })
                },
                arcTo: function() {
                    e.push({
                        name: &quot;arcTo&quot;,
                        arguments: arguments
                    })
                },
                bezierCurveTo: function() {
                    e.push({
                        name: &quot;bezierCurveTo&quot;,
                        arguments: arguments
                    })
                },
                quadraticCurveTo: function() {
                    e.push({
                        name: &quot;quadraticCurveTo&quot;,
                        arguments: arguments
                    })
                }
            }
        },
        drawImage: function() {
            n.push({
                type: &quot;function&quot;,
                name: &quot;drawImage&quot;,
                arguments: arguments
            })
        },
        fillText: function() {
            n.push({
                type: &quot;function&quot;,
                name: &quot;fillText&quot;,
                arguments: arguments
            })
        },
        setVariable: function(e, t) {
            n.push({
                type: &quot;variable&quot;,
                name: e,
                arguments: t
            })
        }
    }
}

function getMouseXY(e) {
    if (IE) {
        coordX = event.clientX + document.body.scrollLeft;
        coordY = event.clientY + document.body.scrollTop
    } else {
        coordX = e.pageX;
        coordY = e.pageY
    }
    if (coordX &lt; 0) {
        coordX = 0
    }
    if (coordY &lt; 0) {
        coordY = 0
    }
    return true
}
var _html2canvas = {},
    previousElement, computedCSS, html2canvas;
_html2canvas.Util = {};
_html2canvas.Util.trimText = function(e) {
    return function(t) {
        if (e) {
            return e.apply(t)
        } else {
            return ((t || &quot;&quot;) + &quot;&quot;).replace(/^\s+|\s+$/g, &quot;&quot;)
        }
    }
}(String.prototype.trim);
_html2canvas.Util.parseBackgroundImage = function(e) {
    var t = &quot; \r\n	&quot;,
        n, r, i, s, o, u = [],
        a, f = 0,
        l = 0,
        c, h;
    var p = function() {
        if (n) {
            if (r.substr(0, 1) === &apos;&quot;&apos;) {
                r = r.substr(1, r.length - 2)
            }
            if (r) {
                h.push(r)
            }
            if (n.substr(0, 1) === &quot;-&quot; &amp;&amp; (s = n.indexOf(&quot;-&quot;, 1) + 1) &gt; 0) {
                i = n.substr(0, s);
                n = n.substr(s)
            }
            u.push({
                prefix: i,
                method: n.toLowerCase(),
                value: o,
                args: h
            })
        }
        h = [];
        n = i = r = o = &quot;&quot;
    };
    p();
    for (var d = 0, v = e.length; d &lt; v; d++) {
        a = e[d];
        if (f === 0 &amp;&amp; t.indexOf(a) &gt; -1) {
            continue
        }
        switch (a) {
            case &apos;&quot;&apos;:
                if (!c) {
                    c = a
                } else if (c === a) {
                    c = null
                }
                break;
            case &quot;(&quot;:
                if (c) {
                    break
                } else if (f === 0) {
                    f = 1;
                    o += a;
                    continue
                } else {
                    l++
                }
                break;
            case &quot;)&quot;:
                if (c) {
                    break
                } else if (f === 1) {
                    if (l === 0) {
                        f = 0;
                        o += a;
                        p();
                        continue
                    } else {
                        l--
                    }
                }
                break;
            case &quot;,&quot;:
                if (c) {
                    break
                } else if (f === 0) {
                    p();
                    continue
                } else if (f === 1) {
                    if (l === 0 &amp;&amp; !n.match(/^url$/i)) {
                        h.push(r);
                        r = &quot;&quot;;
                        o += a;
                        continue
                    }
                }
                break
        }
        o += a;
        if (f === 0) {
            n += a
        } else {
            r += a
        }
    }
    p();
    return u
};
_html2canvas.Util.Bounds = function(t) {
    var n, r = {};
    if (t.getBoundingClientRect) {
        n = t.getBoundingClientRect();
        r.top = n.top;
        r.bottom = n.bottom || n.top + n.height;
        r.left = n.left;
        r.width = n.width || n.right - n.left;
        r.height = n.height || n.bottom - n.top;
        return r
    }
};
_html2canvas.Util.getCSS = function(e, t, n) {
    function s(t, n) {
        var r = e.runtimeStyle &amp;&amp; e.runtimeStyle[t],
            i, s = e.style;
        if (!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n) &amp;&amp; /^-?\d/.test(n)) {
            i = s.left;
            if (r) {
                e.runtimeStyle.left = e.currentStyle.left
            }
            s.left = t === &quot;fontSize&quot; ? &quot;1em&quot; : n || 0;
            n = s.pixelLeft + &quot;px&quot;;
            s.left = i;
            if (r) {
                e.runtimeStyle.left = r
            }
        }
        if (!/^(thin|medium|thick)$/i.test(n)) {
            return Math.round(parseFloat(n)) + &quot;px&quot;
        }
        return n
    }
    var r, i = t.match(/^background(Size|Position)$/);
    if (previousElement !== e) {
        computedCSS = document.defaultView.getComputedStyle(e, null)
    }
    r = computedCSS[t];
    if (i) {
        r = (r || &quot;&quot;).split(&quot;,&quot;);
        r = r[n || 0] || r[0] || &quot;auto&quot;;
        r = _html2canvas.Util.trimText(r).split(&quot; &quot;);
        if (t === &quot;backgroundSize&quot; &amp;&amp; (!r[0] || r[0].match(/cover|contain|auto/))) {} else {
            r[0] = r[0].indexOf(&quot;%&quot;) === -1 ? s(t + &quot;X&quot;, r[0]) : r[0];
            if (r[1] === undefined) {
                if (t === &quot;backgroundSize&quot;) {
                    r[1] = &quot;auto&quot;;
                    return r
                } else {
                    r[1] = r[0]
                }
            }
            r[1] = r[1].indexOf(&quot;%&quot;) === -1 ? s(t + &quot;Y&quot;, r[1]) : r[1]
        }
    } else if (/border(Top|Bottom)(Left|Right)Radius/.test(t)) {
        var o = r.split(&quot; &quot;);
        if (o.length &lt;= 1) {
            o[1] = o[0]
        }
        o[0] = parseInt(o[0], 10);
        o[1] = parseInt(o[1], 10);
        r = o
    }
    return r
};
_html2canvas.Util.resizeBounds = function(e, t, n, r, i) {
    var s = n / r,
        o = e / t,
        u, a;
    if (!i || i === &quot;auto&quot;) {
        u = n;
        a = r
    } else {
        if (s &lt; o ^ i === &quot;contain&quot;) {
            a = r;
            u = r * o
        } else {
            u = n;
            a = n / o
        }
    }
    return {
        width: u,
        height: a
    }
};
_html2canvas.Util.BackgroundPosition = function(e, t, n, r, i) {
    var s = backgroundBoundsFactory(&quot;backgroundPosition&quot;, e, t, n, r, i);
    return {
        left: s[0],
        top: s[1]
    }
};
_html2canvas.Util.BackgroundSize = function(e, t, n, r) {
    var i = backgroundBoundsFactory(&quot;backgroundSize&quot;, e, t, n, r);
    return {
        width: i[0],
        height: i[1]
    }
};
_html2canvas.Util.Extend = function(e, t) {
    for (var n in e) {
        if (e.hasOwnProperty(n)) {
            t[n] = e[n]
        }
    }
    return t
};
_html2canvas.Util.Children = function(e) {
    var t;
    try {
        t = e.nodeName &amp;&amp; e.nodeName.toUpperCase() === &quot;IFRAME&quot; ? e.contentDocument || e.contentWindow.document : function(e) {
            var t = [];
            if (e !== null) {
                (function(e, t) {
                    var n = e.length,
                        r = 0;
                    if (typeof t.length === &quot;number&quot;) {
                        for (var i = t.length; r &lt; i; r++) {
                            e[n++] = t[r]
                        }
                    } else {
                        while (t[r] !== undefined) {
                            e[n++] = t[r++]
                        }
                    }
                    e.length = n;
                    return e
                })(t, e)
            }
            return t
        }(e.childNodes)
    } catch (n) {
        h2clog(&quot;html2canvas.Util.Children failed with exception: &quot; + n.message);
        t = []
    }
    return t
};
_html2canvas.Util.Font = function() {
    var e = {};
    return function(t, n, r) {
        if (e[t + &quot;-&quot; + n] !== undefined) {
            return e[t + &quot;-&quot; + n]
        }
        var i = r.createElement(&quot;div&quot;),
            s = r.createElement(&quot;img&quot;),
            o = r.createElement(&quot;span&quot;),
            u = &quot;Hidden Text&quot;,
            a, f, l;
        i.style.visibility = &quot;hidden&quot;;
        i.style.fontFamily = t;
        i.style.fontSize = n;
        i.style.margin = 0;
        i.style.padding = 0;
        r.body.appendChild(i);
        s.src = &quot;data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=&quot;;
        s.width = 1;
        s.height = 1;
        s.style.margin = 0;
        s.style.padding = 0;
        s.style.verticalAlign = &quot;baseline&quot;;
        o.style.fontFamily = t;
        o.style.fontSize = n;
        o.style.margin = 0;
        o.style.padding = 0;
        o.appendChild(r.createTextNode(u));
        i.appendChild(o);
        i.appendChild(s);
        a = s.offsetTop - o.offsetTop + 1;
        i.removeChild(o);
        i.appendChild(r.createTextNode(u));
        i.style.lineHeight = &quot;normal&quot;;
        s.style.verticalAlign = &quot;super&quot;;
        f = s.offsetTop - i.offsetTop + 1;
        l = {
            baseline: a,
            lineWidth: 1,
            middle: f
        };
        e[t + &quot;-&quot; + n] = l;
        r.body.removeChild(i);
        return l
    }
}();
(function() {
    _html2canvas.Generate = {};
    var e = [/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/, /^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/, /^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/, /^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/, /^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/, /^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/, /^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];
    _html2canvas.Generate.parseGradient = function(t, n) {
        var r, i, s = e.length,
            o, u, a, f, l, c, h, p, d, v;
        for (i = 0; i &lt; s; i += 1) {
            o = t.match(e[i]);
            if (o) {
                break
            }
        }
        if (o) {
            switch (o[1]) {
                case &quot;-webkit-linear-gradient&quot;:
                case &quot;-o-linear-gradient&quot;:
                    r = {
                        type: &quot;linear&quot;,
                        x0: null,
                        y0: null,
                        x1: null,
                        y1: null,
                        colorStops: []
                    };
                    a = o[2].match(/\w+/g);
                    if (a) {
                        f = a.length;
                        for (i = 0; i &lt; f; i += 1) {
                            switch (a[i]) {
                                case &quot;top&quot;:
                                    r.y0 = 0;
                                    r.y1 = n.height;
                                    break;
                                case &quot;right&quot;:
                                    r.x0 = n.width;
                                    r.x1 = 0;
                                    break;
                                case &quot;bottom&quot;:
                                    r.y0 = n.height;
                                    r.y1 = 0;
                                    break;
                                case &quot;left&quot;:
                                    r.x0 = 0;
                                    r.x1 = n.width;
                                    break
                            }
                        }
                    }
                    if (r.x0 === null &amp;&amp; r.x1 === null) {
                        r.x0 = r.x1 = n.width / 2
                    }
                    if (r.y0 === null &amp;&amp; r.y1 === null) {
                        r.y0 = r.y1 = n.height / 2
                    }
                    a = o[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);
                    if (a) {
                        f = a.length;
                        l = 1 / Math.max(f - 1, 1);
                        for (i = 0; i &lt; f; i += 1) {
                            c = a[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/);
                            if (c[2]) {
                                u = parseFloat(c[2]);
                                if (c[3] === &quot;%&quot;) {
                                    u /= 100
                                } else {
                                    u /= n.width
                                }
                            } else {
                                u = i * l
                            }
                            r.colorStops.push({
                                color: c[1],
                                stop: u
                            })
                        }
                    }
                    break;
                case &quot;-webkit-gradient&quot;:
                    r = {
                        type: o[2] === &quot;radial&quot; ? &quot;circle&quot; : o[2],
                        x0: 0,
                        y0: 0,
                        x1: 0,
                        y1: 0,
                        colorStops: []
                    };
                    a = o[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/);
                    if (a) {
                        r.x0 = a[1] * n.width / 100;
                        r.y0 = a[2] * n.height / 100;
                        r.x1 = a[3] * n.width / 100;
                        r.y1 = a[4] * n.height / 100
                    }
                    a = o[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g);
                    if (a) {
                        f = a.length;
                        for (i = 0; i &lt; f; i += 1) {
                            c = a[i].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/);
                            u = parseFloat(c[2]);
                            if (c[1] === &quot;from&quot;) {
                                u = 0
                            }
                            if (c[1] === &quot;to&quot;) {
                                u = 1
                            }
                            r.colorStops.push({
                                color: c[3],
                                stop: u
                            })
                        }
                    }
                    break;
                case &quot;-moz-linear-gradient&quot;:
                    r = {
                        type: &quot;linear&quot;,
                        x0: 0,
                        y0: 0,
                        x1: 0,
                        y1: 0,
                        colorStops: []
                    };
                    a = o[2].match(/(\d{1,3})%?\s(\d{1,3})%?/);
                    if (a) {
                        r.x0 = a[1] * n.width / 100;
                        r.y0 = a[2] * n.height / 100;
                        r.x1 = n.width - r.x0;
                        r.y1 = n.height - r.y0
                    }
                    a = o[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g);
                    if (a) {
                        f = a.length;
                        l = 1 / Math.max(f - 1, 1);
                        for (i = 0; i &lt; f; i += 1) {
                            c = a[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/);
                            if (c[2]) {
                                u = parseFloat(c[2]);
                                if (c[3]) {
                                    u /= 100
                                }
                            } else {
                                u = i * l
                            }
                            r.colorStops.push({
                                color: c[1],
                                stop: u
                            })
                        }
                    }
                    break;
                case &quot;-webkit-radial-gradient&quot;:
                case &quot;-moz-radial-gradient&quot;:
                case &quot;-o-radial-gradient&quot;:
                    r = {
                        type: &quot;circle&quot;,
                        x0: 0,
                        y0: 0,
                        x1: n.width,
                        y1: n.height,
                        cx: 0,
                        cy: 0,
                        rx: 0,
                        ry: 0,
                        colorStops: []
                    };
                    a = o[2].match(/(\d{1,3})%?\s(\d{1,3})%?/);
                    if (a) {
                        r.cx = a[1] * n.width / 100;
                        r.cy = a[2] * n.height / 100
                    }
                    a = o[3].match(/\w+/);
                    c = o[4].match(/[a-z\-]*/);
                    if (a &amp;&amp; c) {
                        switch (c[0]) {
                            case &quot;farthest-corner&quot;:
                            case &quot;cover&quot;:
                            case &quot;&quot;:
                                h = Math.sqrt(Math.pow(r.cx, 2) + Math.pow(r.cy, 2));
                                p = Math.sqrt(Math.pow(r.cx, 2) + Math.pow(r.y1 - r.cy, 2));
                                d = Math.sqrt(Math.pow(r.x1 - r.cx, 2) + Math.pow(r.y1 - r.cy, 2));
                                v = Math.sqrt(Math.pow(r.x1 - r.cx, 2) + Math.pow(r.cy, 2));
                                r.rx = r.ry = Math.max(h, p, d, v);
                                break;
                            case &quot;closest-corner&quot;:
                                h = Math.sqrt(Math.pow(r.cx, 2) + Math.pow(r.cy, 2));
                                p = Math.sqrt(Math.pow(r.cx, 2) + Math.pow(r.y1 - r.cy, 2));
                                d = Math.sqrt(Math.pow(r.x1 - r.cx, 2) + Math.pow(r.y1 - r.cy, 2));
                                v = Math.sqrt(Math.pow(r.x1 - r.cx, 2) + Math.pow(r.cy, 2));
                                r.rx = r.ry = Math.min(h, p, d, v);
                                break;
                            case &quot;farthest-side&quot;:
                                if (a[0] === &quot;circle&quot;) {
                                    r.rx = r.ry = Math.max(r.cx, r.cy, r.x1 - r.cx, r.y1 - r.cy)
                                } else {
                                    r.type = a[0];
                                    r.rx = Math.max(r.cx, r.x1 - r.cx);
                                    r.ry = Math.max(r.cy, r.y1 - r.cy)
                                }
                                break;
                            case &quot;closest-side&quot;:
                            case &quot;contain&quot;:
                                if (a[0] === &quot;circle&quot;) {
                                    r.rx = r.ry = Math.min(r.cx, r.cy, r.x1 - r.cx, r.y1 - r.cy)
                                } else {
                                    r.type = a[0];
                                    r.rx = Math.min(r.cx, r.x1 - r.cx);
                                    r.ry = Math.min(r.cy, r.y1 - r.cy)
                                }
                                break
                        }
                    }
                    a = o[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);
                    if (a) {
                        f = a.length;
                        l = 1 / Math.max(f - 1, 1);
                        for (i = 0; i &lt; f; i += 1) {
                            c = a[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/);
                            if (c[2]) {
                                u = parseFloat(c[2]);
                                if (c[3] === &quot;%&quot;) {
                                    u /= 100
                                } else {
                                    u /= n.width
                                }
                            } else {
                                u = i * l
                            }
                            r.colorStops.push({
                                color: c[1],
                                stop: u
                            })
                        }
                    }
                    break
            }
        }
        return r
    };
    _html2canvas.Generate.Gradient = function(e, t) {
        if (t.width === 0 || t.height === 0) {
            return
        }
        var n = document.createElement(&quot;canvas&quot;),
            r = n.getContext(&quot;2d&quot;),
            i, s, o, u;
        n.width = t.width;
        n.height = t.height;
        i = _html2canvas.Generate.parseGradient(e, t);
        if (i) {
            if (i.type === &quot;linear&quot;) {
                s = r.createLinearGradient(i.x0, i.y0, i.x1, i.y1);
                for (o = 0, u = i.colorStops.length; o &lt; u; o += 1) {
                    try {
                        s.addColorStop(i.colorStops[o].stop, i.colorStops[o].color)
                    } catch (a) {
                        h2clog([&quot;failed to add color stop: &quot;, a, &quot;; tried to add: &quot;, i.colorStops[o], &quot;; stop: &quot;, o, &quot;; in: &quot;, e])
                    }
                }
                r.fillStyle = s;
                r.fillRect(0, 0, t.width, t.height)
            } else if (i.type === &quot;circle&quot;) {
                s = r.createRadialGradient(i.cx, i.cy, 0, i.cx, i.cy, i.rx);
                for (o = 0, u = i.colorStops.length; o &lt; u; o += 1) {
                    try {
                        s.addColorStop(i.colorStops[o].stop, i.colorStops[o].color)
                    } catch (a) {
                        h2clog([&quot;failed to add color stop: &quot;, a, &quot;; tried to add: &quot;, i.colorStops[o], &quot;; stop: &quot;, o, &quot;; in: &quot;, e])
                    }
                }
                r.fillStyle = s;
                r.fillRect(0, 0, t.width, t.height)
            } else if (i.type === &quot;ellipse&quot;) {
                var f = document.createElement(&quot;canvas&quot;),
                    l = f.getContext(&quot;2d&quot;),
                    c = Math.max(i.rx, i.ry),
                    h = c * 2,
                    p;
                f.width = f.height = h;
                s = l.createRadialGradient(i.rx, i.ry, 0, i.rx, i.ry, c);
                for (o = 0, u = i.colorStops.length; o &lt; u; o += 1) {
                    try {
                        s.addColorStop(i.colorStops[o].stop, i.colorStops[o].color)
                    } catch (a) {
                        h2clog([&quot;failed to add color stop: &quot;, a, &quot;; tried to add: &quot;, i.colorStops[o], &quot;; stop: &quot;, o, &quot;; in: &quot;, e])
                    }
                }
                l.fillStyle = s;
                l.fillRect(0, 0, h, h);
                r.fillStyle = i.colorStops[o - 1].color;
                r.fillRect(0, 0, n.width, n.height);
                r.drawImage(f, i.cx - i.rx, i.cy - i.ry, 2 * i.rx, 2 * i.ry)
            }
        }
        return n
    };
    _html2canvas.Generate.ListAlpha = function(e) {
        var t = &quot;&quot;,
            n;
        do {
            n = e % 26;
            t = String.fromCharCode(n + 64) + t;
            e = e / 26
        } while (e * 26 &gt; 26);
        return t
    };
    _html2canvas.Generate.ListRoman = function(e) {
        var t = [&quot;M&quot;, &quot;CM&quot;, &quot;D&quot;, &quot;CD&quot;, &quot;C&quot;, &quot;XC&quot;, &quot;L&quot;, &quot;XL&quot;, &quot;X&quot;, &quot;IX&quot;, &quot;V&quot;, &quot;IV&quot;, &quot;I&quot;],
            n = [1e3, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],
            r = &quot;&quot;,
            i, s = t.length;
        if (e &lt;= 0 || e &gt;= 4e3) {
            return e
        }
        for (i = 0; i &lt; s; i += 1) {
            while (e &gt;= n[i]) {
                e -= n[i];
                r += t[i]
            }
        }
        return r
    }
})();
_html2canvas.Parse = function(e, t) {
    function c() {
        return Math.max(Math.max(i.body.scrollWidth, i.documentElement.scrollWidth), Math.max(i.body.offsetWidth, i.documentElement.offsetWidth), Math.max(i.body.clientWidth, i.documentElement.clientWidth))
    }

    function h() {
        return Math.max(Math.max(i.body.scrollHeight, i.documentElement.scrollHeight), Math.max(i.body.offsetHeight, i.documentElement.offsetHeight), Math.max(i.body.clientHeight, i.documentElement.clientHeight))
    }

    function p(e, t) {
        var n = parseInt(a(e, t), 10);
        return isNaN(n) ? 0 : n
    }

    function d(e, t, n, i, s, o) {
        if (o !== &quot;transparent&quot;) {
            e.setVariable(&quot;fillStyle&quot;, o);
            e.fillRect(t, n, i, s);
            r += 1
        }
    }

    function v(e, t) {
        switch (t) {
            case &quot;lowercase&quot;:
                return e.toLowerCase();
            case &quot;capitalize&quot;:
                return e.replace(/(^|\s|:|-|\(|\))([a-z])/g, function(e, t, n) {
                    if (e.length &gt; 0) {
                        return t + n.toUpperCase()
                    }
                });
            case &quot;uppercase&quot;:
                return e.toUpperCase();
            default:
                return e
        }
    }

    function m(e) {
        return /^(normal|none|0px)$/.test(e)
    }

    function g(e, t, n, i) {
        if (e !== null &amp;&amp; _html2canvas.Util.trimText(e).length &gt; 0) {
            i.fillText(e, t, n);
            r += 1
        }
    }

    function y(e, t, n, r) {
        var s = false,
            o = a(t, &quot;fontWeight&quot;),
            u = a(t, &quot;fontFamily&quot;),
            f = a(t, &quot;fontSize&quot;);
        switch (parseInt(o, 10)) {
            case 401:
                o = &quot;bold&quot;;
                break;
            case 400:
                o = &quot;normal&quot;;
                break
        }
        e.setVariable(&quot;fillStyle&quot;, r);
        e.setVariable(&quot;font&quot;, [a(t, &quot;fontStyle&quot;), a(t, &quot;fontVariant&quot;), o, f, u].join(&quot; &quot;));
        e.setVariable(&quot;textAlign&quot;, s ? &quot;right&quot; : &quot;left&quot;);
        if (n !== &quot;none&quot;) {
            return _html2canvas.Util.Font(u, f, i)
        }
    }

    function b(e, t, n, r, i) {
        switch (t) {
            case &quot;underline&quot;:
                d(e, n.left, Math.round(n.top + r.baseline + r.lineWidth), n.width, 1, i);
                break;
            case &quot;overline&quot;:
                d(e, n.left, Math.round(n.top), n.width, 1, i);
                break;
            case &quot;line-through&quot;:
                d(e, n.left, Math.ceil(n.top + r.middle + r.lineWidth), n.width, 1, i);
                break
        }
    }

    function w(e, t, n, r) {
        var i;
        if (s.rangeBounds) {
            if (n !== &quot;none&quot; || _html2canvas.Util.trimText(t).length !== 0) {
                i = E(t, e.node, e.textOffset)
            }
            e.textOffset += t.length
        } else if (e.node &amp;&amp; typeof e.node.nodeValue === &quot;string&quot;) {
            var o = r ? e.node.splitText(t.length) : null;
            i = S(e.node);
            e.node = o
        }
        return i
    }

    function E(e, t, n) {
        var r = i.createRange();
        r.setStart(t, n);
        r.setEnd(t, n + e.length);
        return r.getBoundingClientRect()
    }

    function S(e) {
        var t = e.parentNode,
            n = i.createElement(&quot;wrapper&quot;),
            r = e.cloneNode(true);
        n.appendChild(e.cloneNode(true));
        t.replaceChild(n, e);
        var s = _html2canvas.Util.Bounds(n);
        t.replaceChild(r, n);
        return s
    }

    function x(e, n, r) {
        var i = r.ctx,
            s = a(e, &quot;color&quot;),
            o = a(e, &quot;textDecoration&quot;),
            u = a(e, &quot;textAlign&quot;),
            f, l, c = {
                node: n,
                textOffset: 0
            };
        if (_html2canvas.Util.trimText(n.nodeValue).length &gt; 0) {
            n.nodeValue = v(n.nodeValue, a(e, &quot;textTransform&quot;));
            u = u.replace([&quot;-webkit-auto&quot;], [&quot;auto&quot;]);
            l = !t.letterRendering &amp;&amp; /^(left|right|justify|auto)$/.test(u) &amp;&amp; m(a(e, &quot;letterSpacing&quot;)) ? n.nodeValue.split(/(\b| )/) : n.nodeValue.split(&quot;&quot;);
            f = y(i, e, o, s);
            if (t.chinese) {
                l.forEach(function(e, t) {
                    if (/.*[\u4E00-\u9FA5].*$/.test(e)) {
                        e = e.split(&quot;&quot;);
                        e.unshift(t, 1);
                        l.splice.apply(l, e)
                    }
                })
            }
            l.forEach(function(e, t) {
                var n = w(c, e, o, t &lt; l.length - 1);
                if (n) {
                    g(e, n.left, n.bottom, i);
                    b(i, o, n, f, s)
                }
            })
        }
    }

    function T(e, t) {
        var n = i.createElement(&quot;boundelement&quot;),
            r, s;
        n.style.display = &quot;inline&quot;;
        r = e.style.listStyleType;
        e.style.listStyleType = &quot;none&quot;;
        n.appendChild(i.createTextNode(t));
        e.insertBefore(n, e.firstChild);
        s = _html2canvas.Util.Bounds(n);
        e.removeChild(n);
        e.style.listStyleType = r;
        return s
    }

    function N(e) {
        var t = -1,
            n = 1,
            r = e.parentNode.childNodes;
        if (e.parentNode) {
            while (r[++t] !== e) {
                if (r[t].nodeType === 1) {
                    n++
                }
            }
            return n
        } else {
            return -1
        }
    }

    function C(e, t) {
        var n = N(e),
            r;
        switch (t) {
            case &quot;decimal&quot;:
                r = n;
                break;
            case &quot;decimal-leading-zero&quot;:
                r = n.toString().length === 1 ? n = &quot;0&quot; + n.toString() : n.toString();
                break;
            case &quot;upper-roman&quot;:
                r = _html2canvas.Generate.ListRoman(n);
                break;
            case &quot;lower-roman&quot;:
                r = _html2canvas.Generate.ListRoman(n).toLowerCase();
                break;
            case &quot;lower-alpha&quot;:
                r = _html2canvas.Generate.ListAlpha(n).toLowerCase();
                break;
            case &quot;upper-alpha&quot;:
                r = _html2canvas.Generate.ListAlpha(n);
                break
        }
        r += &quot;. &quot;;
        return r
    }

    function k(e, t, n) {
        var r, i, s = t.ctx,
            o = a(e, &quot;listStyleType&quot;),
            u;
        if (/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(o)) {
            i = C(e, o);
            u = T(e, i);
            y(s, e, &quot;none&quot;, a(e, &quot;color&quot;));
            if (a(e, &quot;listStylePosition&quot;) === &quot;inside&quot;) {
                s.setVariable(&quot;textAlign&quot;, &quot;left&quot;);
                r = n.left
            } else {
                return
            }
            g(i, r, u.bottom, s)
        }
    }

    function L(t) {
        var n = e[t];
        if (n &amp;&amp; n.succeeded === true) {
            return n.img
        } else {
            return false
        }
    }

    function A(e, t) {
        var n = Math.max(e.left, t.left),
            r = Math.max(e.top, t.top),
            i = Math.min(e.left + e.width, t.left + t.width),
            s = Math.min(e.top + e.height, t.top + t.height);
        return {
            left: n,
            top: r,
            width: i - n,
            height: s - r
        }
    }

    function O(e, t) {
        var n;
        if (!t) {
            n = h2czContext(0);
            return n
        }
        if (e !== &quot;auto&quot;) {
            n = h2czContext(e);
            t.children.push(n);
            return n
        }
        return t
    }

    function M(e, t, n, r, i) {
        var s = p(t, &quot;paddingLeft&quot;),
            o = p(t, &quot;paddingTop&quot;),
            u = p(t, &quot;paddingRight&quot;),
            a = p(t, &quot;paddingBottom&quot;);
        W(e, n, 0, 0, n.width, n.height, r.left + s + i[3].width, r.top + o + i[0].width, r.width - (i[1].width + i[3].width + s + u), r.height - (i[0].width + i[2].width + o + a))
    }

    function _(e) {
        return [&quot;Top&quot;, &quot;Right&quot;, &quot;Bottom&quot;, &quot;Left&quot;].map(function(t) {
            return {
                width: p(e, &quot;border&quot; + t + &quot;Width&quot;),
                color: a(e, &quot;border&quot; + t + &quot;Color&quot;)
            }
        })
    }

    function D(e) {
        return [&quot;TopLeft&quot;, &quot;TopRight&quot;, &quot;BottomRight&quot;, &quot;BottomLeft&quot;].map(function(t) {
            return a(e, &quot;border&quot; + t + &quot;Radius&quot;)
        })
    }

    function H(e, t, n, r) {
        var i = function(e, t, n) {
            return {
                x: e.x + (t.x - e.x) * n,
                y: e.y + (t.y - e.y) * n
            }
        };
        return {
            start: e,
            startControl: t,
            endControl: n,
            end: r,
            subdivide: function(s) {
                var o = i(e, t, s),
                    u = i(t, n, s),
                    a = i(n, r, s),
                    f = i(o, u, s),
                    l = i(u, a, s),
                    c = i(f, l, s);
                return [H(e, o, f, c), H(c, l, a, r)]
            },
            curveTo: function(e) {
                e.push([&quot;bezierCurve&quot;, t.x, t.y, n.x, n.y, r.x, r.y])
            },
            curveToReversed: function(r) {
                r.push([&quot;bezierCurve&quot;, n.x, n.y, t.x, t.y, e.x, e.y])
            }
        }
    }

    function B(e, t, n, r, i, s, o) {
        if (t[0] &gt; 0 || t[1] &gt; 0) {
            e.push([&quot;line&quot;, r[0].start.x, r[0].start.y]);
            r[0].curveTo(e);
            r[1].curveTo(e)
        } else {
            e.push([&quot;line&quot;, s, o])
        }
        if (n[0] &gt; 0 || n[1] &gt; 0) {
            e.push([&quot;line&quot;, i[0].start.x, i[0].start.y])
        }
    }

    function j(e, t, n, r, i, s, o) {
        var u = [];
        if (t[0] &gt; 0 || t[1] &gt; 0) {
            u.push([&quot;line&quot;, r[1].start.x, r[1].start.y]);
            r[1].curveTo(u)
        } else {
            u.push([&quot;line&quot;, e.c1[0], e.c1[1]])
        }
        if (n[0] &gt; 0 || n[1] &gt; 0) {
            u.push([&quot;line&quot;, s[0].start.x, s[0].start.y]);
            s[0].curveTo(u);
            u.push([&quot;line&quot;, o[0].end.x, o[0].end.y]);
            o[0].curveToReversed(u)
        } else {
            u.push([&quot;line&quot;, e.c2[0], e.c2[1]]);
            u.push([&quot;line&quot;, e.c3[0], e.c3[1]])
        }
        if (t[0] &gt; 0 || t[1] &gt; 0) {
            u.push([&quot;line&quot;, i[1].end.x, i[1].end.y]);
            i[1].curveToReversed(u)
        } else {
            u.push([&quot;line&quot;, e.c4[0], e.c4[1]])
        }
        return u
    }

    function F(e, t, n) {
        var r = e.left,
            i = e.top,
            s = e.width,
            o = e.height,
            u = t[0][0],
            a = t[0][1],
            f = t[1][0],
            l = t[1][1],
            c = t[2][0],
            h = t[2][1],
            p = t[3][0],
            d = t[3][1],
            v = s - f,
            m = o - c,
            g = s - h,
            y = o - d;
        return {
            topLeftOuter: P(r, i, u, a).topLeft.subdivide(.5),
            topLeftInner: P(r + n[3].width, i + n[0].width, Math.max(0, u - n[3].width), Math.max(0, a - n[0].width)).topLeft.subdivide(.5),
            topRightOuter: P(r + v, i, f, l).topRight.subdivide(.5),
            topRightInner: P(r + Math.min(v, s + n[3].width), i + n[0].width, v &gt; s + n[3].width ? 0 : f - n[3].width, l - n[0].width).topRight.subdivide(.5),
            bottomRightOuter: P(r + g, i + m, h, c).bottomRight.subdivide(.5),
            bottomRightInner: P(r + Math.min(g, s + n[3].width), i + Math.min(m, o + n[0].width), Math.max(0, h - n[1].width), Math.max(0, c - n[2].width)).bottomRight.subdivide(.5),
            bottomLeftOuter: P(r, i + y, p, d).bottomLeft.subdivide(.5),
            bottomLeftInner: P(r + n[3].width, i + y, Math.max(0, p - n[3].width), Math.max(0, d - n[2].width)).bottomLeft.subdivide(.5)
        }
    }

    function I(e, t, n, r, i) {
        var s = a(e, &quot;backgroundClip&quot;),
            o = [];
        switch (s) {
            case &quot;content-box&quot;:
            case &quot;padding-box&quot;:
                B(o, r[0], r[1], t.topLeftInner, t.topRightInner, i.left + n[3].width, i.top + n[0].width);
                B(o, r[1], r[2], t.topRightInner, t.bottomRightInner, i.left + i.width - n[1].width, i.top + n[0].width);
                B(o, r[2], r[3], t.bottomRightInner, t.bottomLeftInner, i.left + i.width - n[1].width, i.top + i.height - n[2].width);
                B(o, r[3], r[0], t.bottomLeftInner, t.topLeftInner, i.left + n[3].width, i.top + i.height - n[2].width);
                break;
            default:
                B(o, r[0], r[1], t.topLeftOuter, t.topRightOuter, i.left, i.top);
                B(o, r[1], r[2], t.topRightOuter, t.bottomRightOuter, i.left + i.width, i.top);
                B(o, r[2], r[3], t.bottomRightOuter, t.bottomLeftOuter, i.left + i.width, i.top + i.height);
                B(o, r[3], r[0], t.bottomLeftOuter, t.topLeftOuter, i.left, i.top + i.height);
                break
        }
        return o
    }

    function q(e, t, n) {
        var r = t.left,
            i = t.top,
            s = t.width,
            o = t.height,
            u, a, f, l, c, h, p = D(e),
            d = F(t, p, n),
            v = {
                clip: I(e, d, n, p, t),
                borders: []
            };
        for (u = 0; u &lt; 4; u++) {
            if (n[u].width &gt; 0) {
                a = r;
                f = i;
                l = s;
                c = o - n[2].width;
                switch (u) {
                    case 0:
                        c = n[0].width;
                        h = j({
                            c1: [a, f],
                            c2: [a + l, f],
                            c3: [a + l - n[1].width, f + c],
                            c4: [a + n[3].width, f + c]
                        }, p[0], p[1], d.topLeftOuter, d.topLeftInner, d.topRightOuter, d.topRightInner);
                        break;
                    case 1:
                        a = r + s - n[1].width;
                        l = n[1].width;
                        h = j({
                            c1: [a + l, f],
                            c2: [a + l, f + c + n[2].width],
                            c3: [a, f + c],
                            c4: [a, f + n[0].width]
                        }, p[1], p[2], d.topRightOuter, d.topRightInner, d.bottomRightOuter, d.bottomRightInner);
                        break;
                    case 2:
                        f = f + o - n[2].width;
                        c = n[2].width;
                        h = j({
                            c1: [a + l, f + c],
                            c2: [a, f + c],
                            c3: [a + n[3].width, f],
                            c4: [a + l - n[2].width, f]
                        }, p[2], p[3], d.bottomRightOuter, d.bottomRightInner, d.bottomLeftOuter, d.bottomLeftInner);
                        break;
                    case 3:
                        l = n[3].width;
                        h = j({
                            c1: [a, f + c + n[2].width],
                            c2: [a, f],
                            c3: [a + l, f + n[0].width],
                            c4: [a + l, f + c]
                        }, p[3], p[0], d.bottomLeftOuter, d.bottomLeftInner, d.topLeftOuter, d.topLeftInner);
                        break
                }
                v.borders.push({
                    args: h,
                    color: n[u].color
                })
            }
        }
        return v
    }

    function R(e, t) {
        var n = e.drawShape();
        t.forEach(function(e, t) {
            n[t === 0 ? &quot;moveTo&quot; : e[0] + &quot;To&quot;].apply(null, e.slice(1))
        });
        return n
    }

    function U(e, t, n) {
        if (n !== &quot;transparent&quot;) {
            e.setVariable(&quot;fillStyle&quot;, n);
            R(e, t);
            e.fill();
            r += 1
        }
    }

    function z(e, t, n) {
        var r = i.createElement(&quot;valuewrap&quot;),
            s = [&quot;lineHeight&quot;, &quot;textAlign&quot;, &quot;fontFamily&quot;, &quot;color&quot;, &quot;fontSize&quot;, &quot;paddingLeft&quot;, &quot;paddingTop&quot;, &quot;width&quot;, &quot;height&quot;, &quot;border&quot;, &quot;borderLeftWidth&quot;, &quot;borderTopWidth&quot;],
            o, f;
        s.forEach(function(t) {
            try {
                r.style[t] = a(e, t)
            } catch (n) {
                h2clog(&quot;html2canvas: Parse: Exception caught in renderFormValue: &quot; + n.message)
            }
        });
        r.style.borderColor = &quot;black&quot;;
        r.style.borderStyle = &quot;solid&quot;;
        r.style.display = &quot;block&quot;;
        r.style.position = &quot;absolute&quot;;
        if (/^(submit|reset|button|text|password)$/.test(e.type) || e.nodeName === &quot;SELECT&quot;) {
            r.style.lineHeight = a(e, &quot;height&quot;)
        }
        r.style.top = t.top + &quot;px&quot;;
        r.style.left = t.left + &quot;px&quot;;
        o = e.nodeName === &quot;SELECT&quot; ? (e.options[e.selectedIndex] || 0).text : e.value;
        if (!o) {
            o = e.placeholder
        }
        f = i.createTextNode(o);
        r.appendChild(f);
        u.appendChild(r);
        x(e, f, n);
        u.removeChild(r)
    }

    function W(e) {
        e.drawImage.apply(e, Array.prototype.slice.call(arguments, 1));
        r += 1
    }

    function X(e, t) {
        var n = window.getComputedStyle(e, t);
        if (!n || !n.content || n.content === &quot;none&quot; || n.content === &quot;-moz-alt-content&quot;) {
            return
        }
        var r = n.content + &quot;&quot;,
            i = r.substr(0, 1);
        if (i === r.substr(r.length - 1) &amp;&amp; i.match(/&apos;|&quot;/)) {
            r = r.substr(1, r.length - 2)
        }
        var s = r.substr(0, 3) === &quot;url&quot;,
            o = document.createElement(s ? &quot;img&quot; : &quot;span&quot;);
        o.className = f + &quot;-before &quot; + f + &quot;-after&quot;;
        Object.keys(n).filter(V).forEach(function(e) {
            o.style[e] = n[e]
        });
        if (s) {
            o.src = _html2canvas.Util.parseBackgroundImage(r)[0].args[0]
        } else {
            o.innerHTML = r
        }
        return o
    }

    function V(e) {
        return isNaN(window.parseInt(e, 10))
    }

    function $(e, t) {
        var n = X(e, &quot;:before&quot;),
            r = X(e, &quot;:after&quot;);
        if (!n &amp;&amp; !r) {
            return
        }
        if (n) {
            e.className += &quot; &quot; + f + &quot;-before&quot;;
            e.parentNode.insertBefore(n, e);
            st(n, t, true);
            e.parentNode.removeChild(n);
            e.className = e.className.replace(f + &quot;-before&quot;, &quot;&quot;).trim()
        }
        if (r) {
            e.className += &quot; &quot; + f + &quot;-after&quot;;
            e.appendChild(r);
            st(r, t, true);
            e.removeChild(r);
            e.className = e.className.replace(f + &quot;-after&quot;, &quot;&quot;).trim()
        }
    }

    function J(e, t, n, r) {
        var i = Math.round(r.left + n.left),
            s = Math.round(r.top + n.top);
        e.createPattern(t);
        e.translate(i, s);
        e.fill();
        e.translate(-i, -s)
    }

    function K(e, t, n, r, i, s, o, u) {
        var a = [];
        a.push([&quot;line&quot;, Math.round(i), Math.round(s)]);
        a.push([&quot;line&quot;, Math.round(i + o), Math.round(s)]);
        a.push([&quot;line&quot;, Math.round(i + o), Math.round(u + s)]);
        a.push([&quot;line&quot;, Math.round(i), Math.round(u + s)]);
        R(e, a);
        e.save();
        e.clip();
        J(e, t, n, r);
        e.restore()
    }

    function Q(e, t, n) {
        d(e, t.left, t.top, t.width, t.height, n)
    }

    function G(e, t, n, r, i) {
        var s = _html2canvas.Util.BackgroundSize(e, t, r, i),
            o = _html2canvas.Util.BackgroundPosition(e, t, r, i, s),
            u = a(e, &quot;backgroundRepeat&quot;).split(&quot;,&quot;).map(function(e) {
                return e.trim()
            });
        r = Z(r, s);
        u = u[i] || u[0];
        switch (u) {
            case &quot;repeat-x&quot;:
                K(n, r, o, t, t.left, t.top + o.top, 99999, r.height);
                break;
            case &quot;repeat-y&quot;:
                K(n, r, o, t, t.left + o.left, t.top, r.width, 99999);
                break;
            case &quot;no-repeat&quot;:
                K(n, r, o, t, t.left + o.left, t.top + o.top, r.width, r.height);
                break;
            default:
                J(n, r, o, {
                    top: t.top,
                    left: t.left,
                    width: r.width,
                    height: r.height
                });
                break
        }
    }

    function Y(e, t, n) {
        var r = a(e, &quot;backgroundImage&quot;),
            i = _html2canvas.Util.parseBackgroundImage(r),
            s, o = i.length;
        while (o--) {
            r = i[o];
            if (!r.args || r.args.length === 0) {
                continue
            }
            var u = r.method === &quot;url&quot; ? r.args[0] : r.value;
            s = L(u);
            if (s) {
                G(e, t, n, s, o)
            } else {
                h2clog(&quot;html2canvas: Error loading background:&quot;, r)
            }
        }
    }

    function Z(e, t) {
        if (e.width === t.width &amp;&amp; e.height === t.height) {
            return e
        }
        var n, r = i.createElement(&quot;canvas&quot;);
        r.width = t.width;
        r.height = t.height;
        n = r.getContext(&quot;2d&quot;);
        W(n, e, 0, 0, e.width, e.height, 0, 0, t.width, t.height);
        return r
    }

    function et(e, t, n) {
        var r = a(t, &quot;opacity&quot;) * (n ? n.opacity : 1);
        e.setVariable(&quot;globalAlpha&quot;, r);
        return r
    }

    function tt(e, n, r) {
        var i = h2cRenderContext(!n ? c() : r.width, !n ? h() : r.height),
            s = {
                ctx: i,
                zIndex: O(a(e, &quot;zIndex&quot;), n ? n.zIndex : null),
                opacity: et(i, e, n),
                cssPosition: a(e, &quot;position&quot;),
                borders: _(e),
                clip: n &amp;&amp; n.clip ? _html2canvas.Util.Extend({}, n.clip) : null
            };
        if (t.useOverflow === true &amp;&amp; /(hidden|scroll|auto)/.test(a(e, &quot;overflow&quot;)) === true &amp;&amp; /(BODY)/i.test(e.nodeName) === false) {
            s.clip = s.clip ? A(s.clip, r) : r
        }
        s.zIndex.children.push(s);
        return s
    }

    function nt(e, t, n) {
        var r = {
            left: t.left + e[3].width,
            top: t.top + e[0].width,
            width: t.width - (e[1].width + e[3].width),
            height: t.height - (e[0].width + e[2].width)
        };
        if (n) {
            r = A(r, n)
        }
        return r
    }

    function rt(e, t, n) {
        var r = _html2canvas.Util.Bounds(e),
            i, s = o.test(e.nodeName) ? &quot;#efefef&quot; : a(e, &quot;backgroundColor&quot;),
            u = tt(e, t, r),
            f = u.borders,
            l = u.ctx,
            c = nt(f, r, u.clip),
            h = q(e, r, f);
        R(l, h.clip);
        l.save();
        l.clip();
        if (c.height &gt; 0 &amp;&amp; c.width &gt; 0) {
            Q(l, r, s);
            Y(e, c, l)
        }
        l.restore();
        h.borders.forEach(function(e) {
            U(l, e.args, e.color)
        });
        if (!n) {
            $(e, u)
        }
        switch (e.nodeName) {
            case &quot;IMG&quot;:
                if (i = L(e.getAttribute(&quot;src&quot;))) {
                    M(l, e, i, r, f)
                } else {
                    h2clog(&quot;html2canvas: Error loading &lt;img&gt;:&quot; + e.getAttribute(&quot;src&quot;))
                }
                break;
            case &quot;INPUT&quot;:
                if (/^(text|url|email|submit|button|reset)$/.test(e.type) &amp;&amp; (e.value || e.placeholder).length &gt; 0) {
                    z(e, r, u)
                }
                break;
            case &quot;TEXTAREA&quot;:
                if ((e.value || e.placeholder || &quot;&quot;).length &gt; 0) {
                    z(e, r, u)
                }
                break;
            case &quot;SELECT&quot;:
                if ((e.options || e.placeholder || &quot;&quot;).length &gt; 0) {
                    z(e, r, u)
                }
                break;
            case &quot;LI&quot;:
                k(e, u, c);
                break;
            case &quot;VIDEO&quot;:
                var p = document.createElement(&quot;canvas&quot;);
                p.width = e.videoWidth || e.clientWidth || 320;
                p.height = e.videoHeight || e.clientHeight || 240;
                var d = p.getContext(&quot;2d&quot;);
                d.drawImage(e, 0, 0, p.width, p.height);
                M(l, p, p, r, f);
                break;
            case &quot;CANVAS&quot;:
                M(l, e, e, r, f);
                break
        }
        return u
    }

    function it(e) {
        return a(e, &quot;display&quot;) !== &quot;none&quot; &amp;&amp; a(e, &quot;visibility&quot;) !== &quot;hidden&quot; &amp;&amp; !e.hasAttribute(&quot;data-html2canvas-ignore&quot;)
    }

    function st(e, t, n) {
        if (it(e)) {
            t = rt(e, t, n) || t;
            if (!o.test(e.nodeName)) {
                if (e.tagName == &quot;IFRAME&quot;) e = e.contentDocument;
                _html2canvas.Util.Children(e).forEach(function(r) {
                    if (r.nodeType === 1) {
                        st(r, t, n)
                    } else if (r.nodeType === 3) {
                        x(e, r, t)
                    }
                })
            }
        }
    }

    function ot(e, t) {
        function o(e) {
            var t = _html2canvas.Util.Children(e),
                n = t.length,
                r, i, u, a, f;
            for (f = 0; f &lt; n; f += 1) {
                a = t[f];
                if (a.nodeType === 3) {
                    s += a.nodeValue.replace(/&lt;/g, &quot;&amp;lt;&quot;).replace(/&gt;/g, &quot;&amp;gt;&quot;)
                } else if (a.nodeType === 1) {
                    if (!/^(script|meta|title)$/.test(a.nodeName.toLowerCase())) {
                        s += &quot;&lt;&quot; + a.nodeName.toLowerCase();
                        if (a.hasAttributes()) {
                            r = a.attributes;
                            u = r.length;
                            for (i = 0; i &lt; u; i += 1) {
                                s += &quot; &quot; + r[i].name + &apos;=&quot;&apos; + r[i].value + &apos;&quot;&apos;
                            }
                        }
                        s += &quot;&gt;&quot;;
                        o(a);
                        s += &quot;&lt;/&quot; + a.nodeName.toLowerCase() + &quot;&gt;&quot;
                    }
                }
            }
        }
        var n = new Image,
            r = c(),
            i = h(),
            s = &quot;&quot;;
        o(e);
        n.src = [&quot;data:image/svg+xml,&quot;, &quot;&lt;svg xmlns=&apos;http://www.w3.org/2000/svg&apos; version=&apos;1.1&apos; width=&apos;&quot; + r + &quot;&apos; height=&apos;&quot; + i + &quot;&apos;&gt;&quot;, &quot;&lt;foreignObject width=&apos;&quot; + r + &quot;&apos; height=&apos;&quot; + i + &quot;&apos;&gt;&quot;, &quot;&lt;html xmlns=&apos;http://www.w3.org/1999/xhtml&apos; style=&apos;margin:0;&apos;&gt;&quot;, s.replace(/\#/g, &quot;%23&quot;), &quot;&lt;/html&gt;&quot;, &quot;&lt;/foreignObject&gt;&quot;, &quot;&lt;/svg&gt;&quot;].join(&quot;&quot;);
        n.onload = function() {
            t.svgRender = n
        }
    }

    function ut() {
        var e = rt(n, null);
        if (s.svgRendering) {
            ot(document.documentElement, e)
        }
        Array.prototype.slice.call(n.children, 0).forEach(function(t) {
            st(t, e)
        });
        e.backgroundColor = a(document.documentElement, &quot;backgroundColor&quot;);
        u.removeChild(l);
        return e
    }
    var n = t.elements === undefined ? document.body : t.elements[0],
        r = 0,
        i = n.ownerDocument,
        s = _html2canvas.Util.Support(t, i),
        o = new RegExp(&quot;(&quot; + t.ignoreElements + &quot;)&quot;),
        u = i.body,
        a = _html2canvas.Util.getCSS,
        f = &quot;___html2canvas___pseudoelement&quot;,
        l = i.createElement(&quot;style&quot;);
    l.innerHTML = &quot;.&quot; + f + &apos;-before:before { content: &quot;&quot; !important; display: none !important; }&apos; + &quot;.&quot; + f + &apos;-after:after { content: &quot;&quot; !important; display: none !important; }&apos;;
    u.appendChild(l);
    e = e || {};
    var P = function(e) {
        return function(t, n, r, i) {
            var s = r * e,
                o = i * e,
                u = t + r,
                a = n + i;
            return {
                topLeft: H({
                    x: t,
                    y: a
                }, {
                    x: t,
                    y: a - o
                }, {
                    x: u - s,
                    y: n
                }, {
                    x: u,
                    y: n
                }),
                topRight: H({
                    x: t,
                    y: n
                }, {
                    x: t + s,
                    y: n
                }, {
                    x: u,
                    y: a - o
                }, {
                    x: u,
                    y: a
                }),
                bottomRight: H({
                    x: u,
                    y: n
                }, {
                    x: u,
                    y: n + o
                }, {
                    x: t + s,
                    y: a
                }, {
                    x: t,
                    y: a
                }),
                bottomLeft: H({
                    x: u,
                    y: a
                }, {
                    x: u - s,
                    y: a
                }, {
                    x: t,
                    y: n + o
                }, {
                    x: t,
                    y: n
                })
            }
        }
    }(4 * ((Math.sqrt(2) - 1) / 3));
    return ut()
};
_html2canvas.Preload = function(e) {
    function p(e) {
        l.href = e;
        l.href = l.href;
        var t = l.protocol + l.host;
        return t === n
    }

    function d() {
        h2clog(&quot;html2canvas: start: images: &quot; + t.numLoaded + &quot; / &quot; + t.numTotal + &quot; (failed: &quot; + t.numFailed + &quot;)&quot;);
        if (!t.firstRun &amp;&amp; t.numLoaded &gt;= t.numTotal) {
            h2clog(&quot;Finished loading images: # &quot; + t.numTotal + &quot; (failed: &quot; + t.numFailed + &quot;)&quot;);
            if (typeof e.complete === &quot;function&quot;) {
                e.complete(t)
            }
        }
    }

    function v(n, r, i) {
        var o, a = e.proxy,
            f;
        l.href = n;
        n = l.href;
        o = &quot;html2canvas_&quot; + s++;
        i.callbackname = o;
        if (a.indexOf(&quot;?&quot;) &gt; -1) {
            a += &quot;&amp;&quot;
        } else {
            a += &quot;?&quot;
        }
        a += &quot;url=&quot; + encodeURIComponent(n) + &quot;&amp;callback=&quot; + o;
        f = u.createElement(&quot;script&quot;);
        window[o] = function(e) {
            if (e.substring(0, 6) === &quot;error:&quot;) {
                i.succeeded = false;
                t.numLoaded++;
                t.numFailed++;
                d()
            } else {
                S(r, i);
                r.src = e
            }
            window[o] = undefined;
            try {
                delete window[o]
            } catch (n) {}
            f.parentNode.removeChild(f);
            f = null;
            delete i.script;
            delete i.callbackname
        };
        f.setAttribute(&quot;type&quot;, &quot;text/javascript&quot;);
        f.setAttribute(&quot;src&quot;, a);
        i.script = f;
        window.document.body.appendChild(f)
    }

    function m(e, t) {
        var n = window.getComputedStyle(e, t),
            i = n.content;
        if (i.substr(0, 3) === &quot;url&quot;) {
            r.loadImage(_html2canvas.Util.parseBackgroundImage(i)[0].args[0])
        }
        w(n.backgroundImage, e)
    }

    function g(e) {
        m(e, &quot;:before&quot;);
        m(e, &quot;:after&quot;)
    }

    function y(e, n) {
        var r = _html2canvas.Generate.Gradient(e, n);
        if (r !== undefined) {
            t[e] = {
                img: r,
                succeeded: true
            };
            t.numTotal++;
            t.numLoaded++;
            d()
        }
    }

    function b(e) {
        return e &amp;&amp; e.method &amp;&amp; e.args &amp;&amp; e.args.length &gt; 0
    }

    function w(e, t) {
        var n;
        _html2canvas.Util.parseBackgroundImage(e).filter(b).forEach(function(e) {
            if (e.method === &quot;url&quot;) {
                r.loadImage(e.args[0])
            } else if (e.method.match(/\-?gradient$/)) {
                if (n === undefined) {
                    n = _html2canvas.Util.Bounds(t)
                }
                y(e.value, n)
            }
        })
    }

    function E(e) {
        var t = false;
        try {
            _html2canvas.Util.Children(e).forEach(function(e) {
                E(e)
            })
        } catch (n) {}
        try {
            t = e.nodeType
        } catch (r) {
            t = false;
            h2clog(&quot;html2canvas: failed to access some element&apos;s nodeType - Exception: &quot; + r.message)
        }
        if (t === 1 || t === undefined) {
            g(e);
            try {
                w(_html2canvas.Util.getCSS(e, &quot;backgroundImage&quot;), e)
            } catch (n) {
                h2clog(&quot;html2canvas: failed to get background-image - Exception: &quot; + n.message)
            }
            w(e)
        }
    }

    function S(n, r) {
        n.onload = function() {
            if (r.timer !== undefined) {
                window.clearTimeout(r.timer)
            }
            t.numLoaded++;
            r.succeeded = true;
            n.onerror = n.onload = null;
            d()
        };
        n.onerror = function() {
            if (n.crossOrigin === &quot;anonymous&quot;) {
                window.clearTimeout(r.timer);
                if (e.proxy) {
                    var i = n.src;
                    n = new Image;
                    r.img = n;
                    n.src = i;
                    v(n.src, n, r);
                    return
                }
            }
            t.numLoaded++;
            t.numFailed++;
            r.succeeded = false;
            n.onerror = n.onload = null;
            d()
        }
    }
    var t = {
            numLoaded: 0,
            numFailed: 0,
            numTotal: 0,
            cleanupDone: false
        },
        n, r, i, s = 0,
        o = e.elements[0] || document.body,
        u = o.ownerDocument,
        a = u.images,
        f = a.length,
        l = u.createElement(&quot;a&quot;),
        c = function(e) {
            return e.crossOrigin !== undefined
        }(new Image),
        h;
    l.href = window.location.href;
    n = l.protocol + l.host;
    r = {
        loadImage: function(n) {
            var r, i;
            if (n &amp;&amp; t[n] === undefined) {
                r = new Image;
                if (n.match(/data:image\/.*;base64,/i)) {
                    r.src = n.replace(/url\([&apos;&quot;]{0,}|[&apos;&quot;]{0,}\)$/ig, &quot;&quot;);
                    i = t[n] = {
                        img: r
                    };
                    t.numTotal++;
                    S(r, i)
                } else if (p(n) || e.allowTaint === true) {
                    i = t[n] = {
                        img: r
                    };
                    t.numTotal++;
                    S(r, i);
                    r.src = n
                } else if (c &amp;&amp; !e.allowTaint &amp;&amp; e.useCORS) {
                    r.crossOrigin = &quot;anonymous&quot;;
                    i = t[n] = {
                        img: r
                    };
                    t.numTotal++;
                    S(r, i);
                    r.src = n;
                    r.customComplete = function() {
                        if (!this.img.complete) {
                            this.timer = window.setTimeout(this.img.customComplete, 100)
                        } else {
                            this.img.onerror()
                        }
                    }.bind(i);
                    r.customComplete()
                } else if (e.proxy) {
                    i = t[n] = {
                        img: r
                    };
                    t.numTotal++;
                    v(n, r, i)
                }
            }
        },
        cleanupDOM: function(n) {
            var r, i;
            if (!t.cleanupDone) {
                if (n &amp;&amp; typeof n === &quot;string&quot;) {
                    h2clog(&quot;html2canvas: Cleanup because: &quot; + n)
                } else {
                    h2clog(&quot;html2canvas: Cleanup after timeout: &quot; + e.timeout + &quot; ms.&quot;)
                }
                for (i in t) {
                    if (t.hasOwnProperty(i)) {
                        r = t[i];
                        if (typeof r === &quot;object&quot; &amp;&amp; r.callbackname &amp;&amp; r.succeeded === undefined) {
                            window[r.callbackname] = undefined;
                            try {
                                delete window[r.callbackname]
                            } catch (s) {}
                            if (r.script &amp;&amp; r.script.parentNode) {
                                r.script.setAttribute(&quot;src&quot;, &quot;about:blank&quot;);
                                r.script.parentNode.removeChild(r.script)
                            }
                            t.numLoaded++;
                            t.numFailed++;
                            h2clog(&quot;html2canvas: Cleaned up failed img: &apos;&quot; + i + &quot;&apos; Steps: &quot; + t.numLoaded + &quot; / &quot; + t.numTotal)
                        }
                    }
                }
                if (window.stop !== undefined) {
                    window.stop()
                } else if (document.execCommand !== undefined) {
                    document.execCommand(&quot;Stop&quot;, false)
                }
                if (document.close !== undefined) {
                    document.close()
                }
                t.cleanupDone = true;
                if (!(n &amp;&amp; typeof n === &quot;string&quot;)) {
                    d()
                }
            }
        },
        renderingDone: function() {
            if (h) {
                window.clearTimeout(h)
            }
        }
    };
    if (e.timeout &gt; 0) {
        h = window.setTimeout(r.cleanupDOM, e.timeout)
    }
    h2clog(&quot;html2canvas: Preload starts: finding background-images&quot;);
    t.firstRun = true;
    E(o);
    h2clog(&quot;html2canvas: Preload: Finding images&quot;);
    for (i = 0; i &lt; f; i += 1) {
        r.loadImage(a[i].getAttribute(&quot;src&quot;))
    }
    t.firstRun = false;
    h2clog(&quot;html2canvas: Preload: Done.&quot;);
    if (t.numTotal === t.numLoaded) {
        d()
    }
    return r
};
_html2canvas.Renderer = function(e, t) {
    function n(e) {
        var t = [];
        var n = function(e) {
            var r = [],
                i = [];
            e.children.forEach(function(e) {
                if (e.children &amp;&amp; e.children.length &gt; 0) {
                    r.push(e);
                    i.push(e.zindex)
                } else {
                    t.push(e)
                }
            });
            i.sort(function(e, t) {
                return e - t
            });
            i.forEach(function(e) {
                var t;
                r.some(function(n, r) {
                    t = r;
                    return n.zindex === e
                });
                n(r.splice(t, 1)[0])
            })
        };
        n(e.zIndex);
        return t
    }

    function r(e) {
        var n;
        if (typeof t.renderer === &quot;string&quot; &amp;&amp; _html2canvas.Renderer[e] !== undefined) {
            n = _html2canvas.Renderer[e](t)
        } else if (typeof e === &quot;function&quot;) {
            n = e(t)
        } else {
            throw new Error(&quot;Unknown renderer&quot;)
        }
        if (typeof n !== &quot;function&quot;) {
            throw new Error(&quot;Invalid renderer defined&quot;)
        }
        return n
    }
    return r(t.renderer)(e, t, document, n(e), _html2canvas)
};
_html2canvas.Util.Support = function(e, t) {
    function n() {
        var e = new Image,
            n = t.createElement(&quot;canvas&quot;),
            r = n.getContext === undefined ? false : n.getContext(&quot;2d&quot;);
        if (r === false) {
            return false
        }
        n.width = n.height = 10;
        e.src = [&quot;data:image/svg+xml,&quot;, &quot;&lt;svg xmlns=&apos;http://www.w3.org/2000/svg&apos; width=&apos;10&apos; height=&apos;10&apos;&gt;&quot;, &quot;&lt;foreignObject width=&apos;10&apos; height=&apos;10&apos;&gt;&quot;, &quot;&lt;div xmlns=&apos;http://www.w3.org/1999/xhtml&apos; style=&apos;width:10;height:10;&apos;&gt;&quot;, &quot;sup&quot;, &quot;&lt;/div&gt;&quot;, &quot;&lt;/foreignObject&gt;&quot;, &quot;&lt;/svg&gt;&quot;].join(&quot;&quot;);
        try {
            r.drawImage(e, 0, 0);
            n.toDataURL()
        } catch (i) {
            return false
        }
        h2clog(&quot;html2canvas: Parse: SVG powered rendering available&quot;);
        return true
    }

    function r() {
        var e, n, r, i, s = false;
        if (t.createRange) {
            e = t.createRange();
            if (e.getBoundingClientRect) {
                n = t.createElement(&quot;boundtest&quot;);
                n.style.height = &quot;123px&quot;;
                n.style.display = &quot;block&quot;;
                t.body.appendChild(n);
                e.selectNode(n);
                r = e.getBoundingClientRect();
                i = r.height;
                if (i === 123) {
                    s = true
                }
                t.body.removeChild(n)
            }
        }
        return s
    }
    return {
        rangeBounds: r(),
        svgRendering: e.svgRendering &amp;&amp; n()
    }
};
window.html2canvas = function(e, t) {
    e = e.length ? e : [e];
    var n, r, i = {
        logging: false,
        elements: e,
        background: &quot;#fff&quot;,
        proxy: null,
        timeout: 0,
        useCORS: false,
        allowTaint: false,
        svgRendering: false,
        ignoreElements: &quot;IFRAME|OBJECT|PARAM&quot;,
        useOverflow: true,
        letterRendering: false,
        chinese: false,
        width: null,
        height: null,
        taintTest: true,
        renderer: &quot;Canvas&quot;
    };
    i = _html2canvas.Util.Extend(t, i);
    _html2canvas.logging = i.logging;
    i.complete = function(e) {
        if (typeof i.onpreloaded === &quot;function&quot;) {
            if (i.onpreloaded(e) === false) {
                return
            }
        }
        n = _html2canvas.Parse(e, i);
        if (typeof i.onparsed === &quot;function&quot;) {
            if (i.onparsed(n) === false) {
                return
            }
        }
        r = _html2canvas.Renderer(n, i);
        if (typeof i.onrendered === &quot;function&quot;) {
            if (typeof i.grabMouse != &quot;undefined&quot; &amp;&amp; !i.grabMouse) {
                i.onrendered(r)
            } else {
                var t = new Image(25, 25);
                t.onload = function() {
                    r.getContext(&quot;2d&quot;).drawImage(t, coordX, coordY, 25, 25);
                    i.onrendered(r)
                };
                t.src = &quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAzZJREFUSEut1EtME1EUANBiTTFaivRDKbaFFgiILgxx0bQllYItYKFIgEYoC2oEwqeCC4gG1xg2dmEwEQMJujIxwQ24wA2uCFAB3SBBfqWuyqd/CuV634QSPgOFxElu+mZye+a++948BgAw/mccYAwGIyY7O1vR3NzSiuMLX5GiDoO8tLQ0QzAYDLW1tT2/qEgHJslk8rKtLU9odzcMTU3N7RdB6UBhRkZG6fz8QrCuzgJutwfq6xtazovSgunp6SUOhzPI5XJBr9fD9nYojHjDeVA6MJH0EMGARCIBRKC8vJygO2ZzrSUaSgumpqY+cDjWAlJpCgWSMJlMiO6EqqpMtWehtKBUKi1eXV3zI3wAEhQrJJUGseJHp6G0IE61CKfsl8lkR0CCWiyPAXeU32AwVNChdKAAwUIEfXK5/ARI0IaGRkS3vXp9ofE4SguKxWL92tpfH642LUjQ1lYr+P0Bt1abX3wYPQv04n48FSRoe/sz8Pn8G7m5uboISgfyk5OT72OF3szMzBMgk8k88qyjowPW1zddCoVCS1BaUCQSEdCTlZV18GcOh0ONq6trYGbmJ0xMTO3Z7dMwPj4B4XAYXC7XhkqlKqAFBQJBAS6KB08dClEqlTA8/JUak5cEAkHo6nppMxqN7ZWVVZ0GQ0lnRUXlC6VSVXoamI+gm/RQKEyChYU/u5gYUqvVFDo09AVsNttrHMdh3MAQYyRhxNIeX3y+QLu0tLKlVufC5OQU9Pa+/TgwMPCpv7+fAouKigG/pFX81qV4H4PBwrh8Wg95eOUtLi5vLi+v4FSHRzExRafTNZJ7NptNobOzs2C1Wp+eZx/yEhIS8jwer99ut//icOJvk+mwWCzF3NzvebPZTIF4+ILd/mMcx1ei7UOeUCjUjY19n8YvRYPJVzG4GGk9PT3vRkZGKJDH44PT6STTfxgNjGez4+4idg8Tr+8nx+KvNCcnx4y926mpMUNf33vY2wPo7n71JhpImszer4x5KFmE4zujo98m3W6ve3Dww2eNRvMEW3GLrG4kj26Vj/c5ch+Pg5t4ApXhopFWSDASMcjzg+siIKmWVJm839Nr+Hvp+Nsj4D+5Hdf43ZzjNQAAAABJRU5ErkJggg==&quot;
            }
        }
    };
    window.setTimeout(function() {
        _html2canvas.Preload(i)
    }, 0);
    return {
        render: function(e, t) {
            return _html2canvas.Renderer(e, _html2canvas.Util.Extend(t, i))
        },
        parse: function(e, t) {
            return _html2canvas.Parse(e, _html2canvas.Util.Extend(t, i))
        },
        preload: function(e) {
            return _html2canvas.Preload(_html2canvas.Util.Extend(e, i))
        },
        log: h2clog
    }
};
window.html2canvas.log = h2clog;
window.html2canvas.Renderer = {
    Canvas: undefined
};
_html2canvas.Renderer.Canvas = function(e) {
    function o(e, t) {
        e.beginPath();
        t.forEach(function(t) {
            e[t.name].apply(e, t[&quot;arguments&quot;])
        });
        e.closePath()
    }

    function u(e) {
        if (n.indexOf(e[&quot;arguments&quot;][0].src) === -1) {
            i.drawImage(e[&quot;arguments&quot;][0], 0, 0);
            try {
                i.getImageData(0, 0, 1, 1)
            } catch (s) {
                r = t.createElement(&quot;canvas&quot;);
                i = r.getContext(&quot;2d&quot;);
                return false
            }
            n.push(e[&quot;arguments&quot;][0].src)
        }
        return true
    }

    function a(e) {
        return e === &quot;transparent&quot; || e === &quot;rgba(0, 0, 0, 0)&quot;
    }

    function f(t, n) {
        switch (n.type) {
            case &quot;variable&quot;:
                t[n.name] = n[&quot;arguments&quot;];
                break;
            case &quot;function&quot;:
                if (n.name === &quot;createPattern&quot;) {
                    if (n[&quot;arguments&quot;][0].width &gt; 0 &amp;&amp; n[&quot;arguments&quot;][0].height &gt; 0) {
                        try {
                            t.fillStyle = t.createPattern(n[&quot;arguments&quot;][0], &quot;repeat&quot;)
                        } catch (r) {
                            h2clog(&quot;html2canvas: Renderer: Error creating pattern&quot;, r.message)
                        }
                    }
                } else if (n.name === &quot;drawShape&quot;) {
                    o(t, n[&quot;arguments&quot;])
                } else if (n.name === &quot;drawImage&quot;) {
                    if (n[&quot;arguments&quot;][8] &gt; 0 &amp;&amp; n[&quot;arguments&quot;][7] &gt; 0) {
                        if (!e.taintTest || e.taintTest &amp;&amp; u(n)) {
                            t.drawImage.apply(t, n[&quot;arguments&quot;])
                        }
                    }
                } else {
                    t[n.name].apply(t, n[&quot;arguments&quot;])
                }
                break
        }
    }
    e = e || {};
    var t = document,
        n = [],
        r = document.createElement(&quot;canvas&quot;),
        i = r.getContext(&quot;2d&quot;),
        s = e.canvas || t.createElement(&quot;canvas&quot;);
    return function(e, t, n, r, i) {
        var o = s.getContext(&quot;2d&quot;),
            u, l, c, h, p, d;
        s.width = s.style.width = t.width || e.ctx.width;
        s.height = s.style.height = t.height || e.ctx.height;
        d = o.fillStyle;
        o.fillStyle = a(e.backgroundColor) &amp;&amp; t.background !== undefined ? t.background : e.backgroundColor;
        o.fillRect(0, 0, s.width, s.height);
        o.fillStyle = d;
        if (t.svgRendering &amp;&amp; e.svgRender !== undefined) {
            o.drawImage(e.svgRender, 0, 0)
        } else {
            for (l = 0, c = r.length; l &lt; c; l += 1) {
                u = r.splice(0, 1)[0];
                u.canvasPosition = u.canvasPosition || {};
                o.textBaseline = &quot;bottom&quot;;
                if (u.clip) {
                    o.save();
                    o.beginPath();
                    o.rect(u.clip.left, u.clip.top, u.clip.width, u.clip.height);
                    o.clip()
                }
                if (u.ctx.storage) {
                    u.ctx.storage.forEach(f.bind(null, o))
                }
                if (u.clip) {
                    o.restore()
                }
            }
        }
        h2clog(&quot;html2canvas: Renderer: Canvas renderer done - returning canvas obj&quot;);
        c = t.elements.length;
        if (c === 1) {
            if (typeof t.elements[0] === &quot;object&quot; &amp;&amp; t.elements[0].nodeName !== &quot;BODY&quot;) {
                p = i.Util.Bounds(t.elements[0]);
                h = n.createElement(&quot;canvas&quot;);
                h.width = p.width;
                h.height = p.height;
                o = h.getContext(&quot;2d&quot;);
                o.drawImage(s, p.left, p.top, p.width, p.height, 0, 0, p.width, p.height);
                s = null;
                return h
            }
        }
        return s
    }
};
(function() {
    var e = 0,
        t = [&quot;ms&quot;, &quot;moz&quot;, &quot;webkit&quot;, &quot;o&quot;];
    for (var n = 0; n &lt; t.length &amp;&amp; !window.requestAnimationFrame; ++n) {
        window.requestAnimationFrame = window[t[n] + &quot;RequestAnimationFrame&quot;];
        window.cancelAnimationFrame = window[t[n] + &quot;CancelAnimationFrame&quot;] || window[t[n] + &quot;RequestCancelAnimationFrame&quot;]
    }
    if (!window.requestAnimationFrame) window.requestAnimationFrame = function(t, n) {
        var r = (new Date).getTime();
        var i = Math.max(0, 16 - (r - e));
        var s = window.setTimeout(function() {
            t(r + i)
        }, i);
        e = r + i;
        return s
    };
    if (!window.cancelAnimationFrame) window.cancelAnimationFrame = function(e) {
        clearTimeout(e)
    }
})();
var IE = document.all ? true : false;
if (!IE) document.captureEvents(Event.MOUSEMOVE);
document.addEventListener(&quot;mousemove&quot;, getMouseXY, false);
var coordX = 0;
var coordY = 0</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
