<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/scripts/_filesharing.js | webrtcdevelopment</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="webrtc based communication and collaboration client. Contains lot of experiments modules "><meta property="twitter:card" content="summary"><meta property="twitter:title" content="webrtcdevelopment"><meta property="twitter:description" content="webrtc based communication and collaboration client. Contains lot of experiments modules "></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/altanai/webrtc"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#scripts">scripts</a><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CanvasRecorder">CanvasRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-GetRecorderType">GetRecorderType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-GifRecorder">GifRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MRecordRTC">MRecordRTC</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MediaStreamRecorder">MediaStreamRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-RecordRTC">RecordRTC</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-RecordRTCConfiguration">RecordRTCConfiguration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-StereoAudioRecorder">StereoAudioRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Whammy">Whammy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-WhammyRecorder">WhammyRecorder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-createFileSharingDiv">createFileSharingDiv</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-_turn.js">_turn.js</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#scripts-rtcconn">scripts/rtcconn</a><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Whammy">Whammy</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/scripts/_filesharing.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/***************************************************************88
File sharing 
******************************************************************/

var progressHelper = {};

/**
 * Create File share button
 * @method
 * @name createFileShareButton
 * @param {json} fileshareobj
 */
function createFileShareButton(fileshareobj){
    widgetholder= &quot;topIconHolder_ul&quot;;

    var button= document.createElement(&quot;span&quot;);
    button.setAttribute(&quot;data-provides&quot;,&quot;fileinput&quot;);
    button.className= fileshareobj.button.class;
    button.innerHTML= fileshareobj.button.html;
    button.onclick = function() {
        var fileSelector = new FileSelector();
        fileSelector.selectSingleFile(function(file) {
            var peerinfo = findPeerInfo(selfuserid); 
            peerinfo.filearray.push({
                &quot;name&quot;: file.name,
                &quot;status&quot; : &quot;progress&quot;
            });
            sendFile(file);
        });
    };
    var li =document.createElement(&quot;li&quot;);
    li.appendChild(button);
    document.getElementById(widgetholder).appendChild(li);
}

/**
 * Assign File share button
 * @method
 * @name assignFileShareButton
 * @param {json} fileshareobj
 */
function assignFileShareButton(fileshareobj){
    var button= document.getElementById(fileshareobj.button.id);
    button.onclick = function() {
        var fileSelector = new FileSelector();
        fileSelector.selectSingleFile(function(file) {

            var peerinfo = findPeerInfo(selfuserid); 
            peerinfo.filearray.push({
                &quot;name&quot;: file.name,
                &quot;status&quot; : &quot;progress&quot;
            });
            sendFile(file);
        });
    };
}



/**
 * Send File 
 * @method
 * @name sendFile
 * @param {json} file
 */
function sendFile(file){
    webrtcdev.log(&quot; [filehsraing js] Send file - &quot; , file );
    rtcConn.send(file);
}


/**
 * Stop Sending File 
 * @method
 * @name sendFile
 * @param {json} file
 */
function stopSendFile(file){
    webrtcdev.log(&quot; [filehsraing js] Stop Sending file - &quot; , file );
    var peerinfo = findPeerInfo(file.userid); 
            
    for( y in peerinfo.filearray){
        if(peerinfo.filearray[y].name == file.name &amp;&amp; peerinfo.filearray[y].status ==&quot;progress&quot;) {
            peerinfo.filearray[y].status = &quot;stop&quot;;
            console.log(&quot; filename &quot; , peerinfo.filearray[y].name , &quot; | status &quot; , peerinfo.filearray[y].status);
        }
    }
}


/**
 * Send Old Files
 * @method
 * @name sendFile
 * @param {json} files
 */
function addProgressHelper(uuid , peerinfo , filename , fileSize,  progressHelperclassName ){
    try{
        if(!peerinfo){
            webrtcdev.error(&quot; [filehsraingJs]Progress helpler cannot be added for one peer as its absent&quot;)
            return;
        }else if(!peerinfo.fileList.container || !document.getElementById(peerinfo.fileList.container)){
            webrtcdev.error(&quot; [filehsraingJs] Progress helpler cannot be added , missing fileListcontainer &quot;)
            return;
        }

        if(!document.getElementById(filename)){
            webrtcdev.log(&quot; [filehsraingJs] progresshelper &quot; , uuid , peerinfo , filename , fileSize,  progressHelperclassName );
            var progressDiv = document.createElement(&quot;div&quot;);
            progressDiv.id = filename,
            progressDiv.title = uuid + filename,
            progressDiv.setAttribute(&quot;class&quot;, progressHelperclassName),
            progressDiv.innerHTML = &quot;&lt;label&gt;0%&lt;/label&gt;&lt;progress&gt;&lt;/progress&gt;&quot;, 
            document.getElementById(peerinfo.fileList.container).appendChild(progressDiv),              
            progressHelper[uuid] = {
                div: progressDiv,
                progress: progressDiv.querySelector(&quot;progress&quot;),
                label: progressDiv.querySelector(&quot;label&quot;)
            }, 
            progressHelper[uuid].progress.max = fileSize;


            var stopuploadButton = document.createElement(&quot;div&quot;);
            stopuploadButton.id= &quot;stopuploadButton&quot;+filename;
            stopuploadButton.style.float=&quot;right&quot;;
            stopuploadButton.innerHTML =&apos;&lt;i class=&quot;fa fa-trash-o&quot; style=&quot;color: #615aa8;padding: 10px; font-size: larger;&quot;&gt;&lt;/i&gt;&apos;;
            stopuploadButton.onclick=function(event){
                //alert(&quot; remomve button from progress bar &quot;);
                if(repeatFlagRemoveButton != filename){
                    hideFile( progressDiv.id , filename );
                    //var tobeHiddenElement = event.target.parentNode.id;
                    rtcConn.send({
                        type:&quot;shareFileRemove&quot;, 
                        _element: progressDiv.id,
                        _filename : filename
                    });  
                    removeFile(filename);
                    stopuploadButton.hidden = true;
                    repeatFlagRemoveButton = filename;
                }else if(repeatFlagRemoveButton == filename){
                    repeatFlagRemoveButton= &quot;&quot;;
                }  
            },
            document.getElementById(peerinfo.fileList.container).appendChild(stopuploadButton);     

        }else{
            webrtcdev.log(&quot; Not creating progress bar div as it already exists &quot;);
        }

    }catch(e){
        webrtcdev.error(&quot; [filehsraingJs] problem in progress helper &quot; , e);
    }
}

/**
 * REquest Old Files
 * @method
 * @name sendFile
 * @param {json} files
 */
function requestOldFiles(){
    try{
        var msg={
            type:&quot;syncOldFiles&quot;
        };
        rtcConn.send(msg);
    }catch(e){
        webrtcdev.error(&quot;[filesharing js ] syncOldFiles&quot; , e);   
    }
}

/**
 * Send Old Files
 * @method
 * @name sendFile
 * @param {json} files
 */
function sendOldFiles(){

    // Sync old files
    var oldfilesList = [];
    for(x in webcallpeers){
        webrtcdev.log(&quot; Checking Old Files in index &quot; , x);
        var user = webcallpeers[x];
        if(user.filearray &amp;&amp; user.filearray.length &gt;0 ){
            for( y in user.filearray){
                // chking is file is already present in old file list 
                for(o in oldfilesList){
                    if(oldfilesList[o].name == user.filearray[y].name) break;
                }
                webrtcdev.log(&quot; ======== user.filearray[y]&quot; , user.filearray[y])
                oldfilesList.push(user.filearray[y]);
            } 
        }
    }

    setTimeout(function(){
        if(oldfilesList.length &gt;0 ){
            webrtcdev.log(&quot; [filehsraing js] sendOldFiles &quot; , oldfilesList );
            for( f in oldfilesList ){
                sendFile(oldfilesList[f]);
            }
        }
    } , 20000);

}

/**
 * add New File Local
 * @method
 * @name addNewFileLocal
 * @param {json} files
 */
function addNewFileLocal(e) {
    webrtcdev.log(&quot;addNewFileLocal message &quot;, e);
    if (&quot;&quot; != e.message &amp;&amp; &quot; &quot; != e.message) {
        webrtcdev.log(&quot;addNewFileLocal&quot;);
    }
}

/**
 * add New File Remote
 * @method
 * @name addNewFileRemote
 * @param {json} files
 */
function addNewFileRemote(e) {
    webrtcdev.log(&quot;addNewFileRemote message &quot;, e);
    if (&quot;&quot; != e.message &amp;&amp; &quot; &quot; != e.message) {
        webrtcdev.log(&quot;addNewFileRemote&quot;);
    }
}

function updateLabel(e, r) {
    if (-1 != e.position) {
        var n = +e.position.toFixed(2).split(&quot;.&quot;)[1] || 100;
        r.innerHTML = n + &quot;%&quot;
    }
}

function simulateClick(buttonName){
    document.getElementById(buttonName).click(); 
    webrtcdev.log(&quot;simulateClick on &quot;+buttonName);
    return true;
}

function displayList(uuid , peerinfo , fileurl , filename , filetype ){
    try{

        webrtcdev.log(&quot;DisplayList peerinfo-&gt;&quot;, peerinfo, fileurl, filename, filetype);
        var showDownloadButton = true , showRemoveButton=true; 

        var elementList = peerinfo.fileList.container;
        var elementDisplay = peerinfo.fileShare.container;
        var listlength = peerinfo.filearray.length;

        /*  
        if(peerinfo.name==&quot;localVideo&quot;){
            showRemoveButton=false;
        }else{
            showRemoveButton=false;
        }*/
        var _filename=null;
        if (filetype ==&quot;sessionRecording&quot;){
            filename = filename.videoname+&quot;_&quot;+filename.audioname;
            _filename = filename;
        }

        var name = document.createElement(&quot;div&quot;);
        /*name.innerHTML = listlength +&quot;   &quot; + filename ;*/
        name.innerHTML = filename ;
        name.title = filetype +&quot; shared by &quot; +peerinfo.name ;  
        name.className = &quot;filenameClass&quot;;
        name.id = &quot;name&quot;+filename;

        var downloadButton = document.createElement(&quot;div&quot;);
        downloadButton.id = &quot;downloadButton&quot;+filename;
        downloadButton.style.float=&quot;right&quot;;
        if (fileshareobj.filelist.saveicon) {
            var img = document.createElement(&quot;img&quot;);
            img.src = fileshareobj.filelist.downloadicon;
            downloadButton.appendChild(img);
        } else {
            downloadButton.innerHTML = &apos;&lt;i class=&quot;fa fa-download&quot; style=&quot; color: #615aa8;padding: 10px; font-size: larger;&quot;&gt;&lt;/i&gt;&apos;;
        }
        downloadButton.onclick = function () {
            downloadFile(uuid , elementDisplay , fileurl , _filename , filetype);
        };

        var saveButton = document.createElement(&quot;div&quot;);
        saveButton.id= &quot;saveButton&quot;+filename;
        saveButton.style.float=&quot;right&quot;;
        saveButton.setAttribute(&quot;data-toggle&quot;,&quot;modal&quot;);
        saveButton.setAttribute(&quot;data-target&quot;, &quot;#saveModal&quot;);
        if (fileshareobj.filelist.saveicon) {
            var img = document.createElement(&quot;img&quot;);
            img.src = fileshareobj.filelist.saveicon;
            saveButton.appendChild(img);
        } else {
            saveButton.innerHTML = &apos;&lt;i class=&quot;fa fa-floppy-o&quot; style=&quot;color: #615aa8;padding: 10px; font-size: larger;&quot;&gt;&lt;/i&gt;&apos;;
        }
        saveButton.onclick=function(){ 
            createModalPopup(filetype);
        };

        var showButton = document.createElement(&quot;div&quot;);
        showButton.id= &quot;showButton&quot;+filename;
        showButton.style.float=&quot;right&quot;;
        if (fileshareobj.filelist.saveicon) {
            var img = document.createElement(&quot;img&quot;);
            img.src = fileshareobj.filelist.showicon;
            showButton.appendChild(img);
        } else {
            showButton.innerHTML = &apos;&lt;i class=&quot;fa fa-eye-slash&quot; style=&quot;color: #615aa8;padding: 10px; font-size: larger;&quot;&gt;&lt;/i&gt;&apos;;
        }
        var countClicks=0;
        repeatFlagHideButton = filename;
        repeatFlagShowButton = &quot;&quot;;
        showButton.onclick = function () {
            countClicks++;
            showHideFile(uuid , elementDisplay , fileurl , filename , filetype , showButton , countClicks );
        };

        /*
        var hideButton = document.createElement(&quot;div&quot;);
        hideButton.id= &quot;hideButton&quot;+filename;
        hideButton.style.float=&quot;right&quot;;
           
        //hideButton.setAttribute(&quot;class&quot; , &quot;btn btn-primary&quot;);
        //hideButton.innerHTML=&apos;hide&apos;;
        //hideButton.innerHTML=&apos;&lt;i class=&quot;fa fa-eye-slash&quot; style=&quot;font-size: 25px;&quot;&gt;&lt;/i&gt;&apos;;
        hideButton.onclick=function(event){
            if(repeatFlagHideButton != filename){
                hideFile(uuid , elementDisplay , fileurl , filename , filetype);
                rtcConn.send({
                    type:&quot;shareFileHide&quot;, 
                    _uuid: uuid , 
                    _element: elementDisplay,
                    _fileurl : fileurl, 
                    _filename : filename, 
                    _filetype : filetype
                });
                repeatFlagHideButton= filename;
            }else if(repeatFlagHideButton == filename){
                repeatFlagHideButton= &quot;&quot;;
            }
        };
        */

        var removeButton = document.createElement(&quot;div&quot;);
        removeButton.id= &quot;removeButton&quot;+filename;
        removeButton.style.float=&quot;right&quot;;
        removeButton.innerHTML =&apos;&lt;i class=&quot;fa fa-trash-o&quot; style=&quot;color: #615aa8;padding: 10px; font-size: larger;&quot;&gt;&lt;/i&gt;&apos;;
        removeButton.onclick=function(event){
            if(repeatFlagRemoveButton != filename){
                hideFile( elementDisplay , filename );
                //var tobeHiddenElement = event.target.parentNode.id;
                var tobeHiddenElement = filename;
                rtcConn.send({
                    type:&quot;shareFileRemove&quot;, 
                    _element: tobeHiddenElement,
                    _filename : filename
                });  
                removeFile(tobeHiddenElement);
                repeatFlagRemoveButton=filename;
            }else if(repeatFlagRemoveButton == filename){
                repeatFlagRemoveButton= &quot;&quot;;
            }  
        };

        var parentdom , filedom ;
        if(document.getElementById(filename)){
            filedom = document.getElementById(filename);
        }else{
            /* if the progress bar area does not exist */
            if(document.getElementById(elementList)){
                parentdom = document.getElementById(elementList);
                filedom = document.createElement(&quot;div&quot;) ;
            }else{
                parentdom = document.body;
                filedom = document.createElement(&quot;div&quot;) ;
            }
        }

        if(fileshareobj.active){
            filedom.id=filename;
            filedom.innerHTML=&quot;&quot;;
            filedom.className=&quot;row&quot;;
            filedom.appendChild(name);
            if(showDownloadButton) 
                filedom.appendChild(downloadButton);
            filedom.appendChild(showButton);
            filedom.appendChild(saveButton);
            //filedom.appendChild(hideButton);
            if(showRemoveButton) 
                filedom.appendChild(removeButton);
        }

        if(parentdom)
            parentdom.appendChild(filedom); 

    }catch(e){
        webrtcdev.error(&quot; [filesharing ] Display list exception &quot; , e);
    }
}


function getFileElementDisplayByType(filetype , fileurl , filename){
    var elementDisplay;
    
    if(filetype.indexOf(&quot;msword&quot;)&gt;-1 || filetype.indexOf(&quot;officedocument&quot;)&gt;-1) {
        var divNitofcation= document.createElement(&quot;div&quot;);
        divNitofcation.className=&quot;alert alert-warning&quot;;
        divNitofcation.innerHTML= &quot;Microsoft and Libra word file cannot be opened in browser. &quot; +
        &quot;Click bottom DOWNLOAD in UF box . File shows up below the UF box. Click arrow on right, then select OPEN  . File Opens in New Window, then &apos;Save As&apos;.&quot;;
        elementDisplay=divNitofcation;

    }else if(filetype.indexOf(&quot;image&quot;)&gt;-1){
        var image= document.createElement(&quot;img&quot;);
        image.src= fileurl;
        image.style.width=&quot;100%&quot;;
        image.title=filename;
        image.id= &quot;display&quot;+filename; 
        elementDisplay=image;

    }else if (filetype == &quot;sessionRecording&quot;) {

        var filename = filename.videoname+&quot;_&quot;+filename.audioname;
        var div =  document.createElement(&quot;div&quot;);
        div.setAttribute(&quot;background-color&quot;,&quot;black&quot;);
        div.id= &quot;display&quot;+filename; 
        div.title=  filename; 

        var video = document.createElement(&apos;video&apos;);
        video.src = fileurl.videofileurl;
        //video.type = &quot;video/webm&quot;;
        video.setAttribute(&quot;type&quot;, &quot;audvideo/webm&quot;);
        video.setAttribute(&quot;name&quot;, &quot;videofile&quot;);
        video.controls = &quot;controls&quot;;
        video.title = filename.videoname + &quot;.webm&quot;;

        var audio = document.createElement(&apos;audio&apos;);
        audio.src = fileurl.audiofileurl;
        audio.setAttribute(&quot;type&quot; , &quot;audio/wav&quot;);
        audio.controls = &quot;controls&quot;;
        audio.title = filename.videoname + &quot;.wav&quot;;
    
        //audio.hidden=true;

        div.appendChild(video);
        div.appendChild(audio);

        elementDisplay  = div;

        video.play();
        audio.play();

    }else if(filetype.indexOf(&quot;videoScreenRecording&quot;)&gt;-1){
        webrtcdev.log(&quot;videoScreenRecording &quot; , fileurl);
        var video = document.createElement(&quot;video&quot;);
        video.src = fileurl; 
        video.setAttribute(&quot;controls&quot;,&quot;controls&quot;);  
        video.style.width=&quot;100%&quot;;
        video.title=filename;
        video.id= &quot;display&quot;+filename; 
        elementDisplay=video;

    }else if(filetype.indexOf(&quot;video&quot;)&gt;-1){
        webrtcdev.log(&quot;videoRecording &quot; , fileurl);
        var video = document.createElement(&quot;video&quot;);
        video.src=fileurl;
        /*            
        try{
            if(fileurl.video!=undefined ){
                video.src = URL.createObjectURL(fileurl.video); 
            }else{
                video.src = URL.createObjectURL(fileurl); 
            }
        }catch(e){
            video.src=fileurl;
        }*/

        video.setAttribute(&quot;controls&quot;,&quot;controls&quot;);  
        video.style.width=&quot;100%&quot;;
        video.title=filename;
        video.id= &quot;display&quot;+filename; 
        elementDisplay=video;

    }else{
        var iframe= document.createElement(&quot;iframe&quot;);
        iframe.style.width=&quot;100%&quot;;
        iframe.src= fileurl;
        iframe.className= &quot;viewerIframeClass&quot;;
        iframe.title= filename;
        iframe.id= &quot;display&quot;+filename;
        elementDisplay=iframe;
    }
    return  elementDisplay
}

function displayFile( uuid , peerinfo , _fileurl , _filename , _filetype ){

    try{

        if(!peerinfo || !peerinfo.fileShare) return;

        var parentdom =  document.getElementById(peerinfo.fileShare.container);
        var filedom = getFileElementDisplayByType(_filetype , _fileurl , _filename);
        
        if(parentdom){
            parentdom.innerHTML=&quot;&quot;;
            parentdom.appendChild(filedom);
        }else if(role==&quot;inspector&quot;){
            for( r in webcallpeers){
                var i = ++r;
                if(document.getElementById(webcallpeers[i].fileShare.container)){
                    parentdom =  document.getElementById(webcallpeers[i].fileShare.container);
                    parentdom.innerHTML=&quot;&quot;;
                    parentdom.appendChild(filedom);
                    break;
                }
            }
        }else{
            document.body.appendChild(filedom);
        } 
    }catch(e){
        webrtcdev.error(&quot;[filehsaring js] displayFile &quot; , e)
    }

    /*
    if($(&apos;#&apos;+ parentdom).length &gt; 0)
        $(&quot;#&quot;+element).html(getFileElementDisplayByType(_filetype , _fileurl , _filename));
    else
        $(&quot;body&quot;).append(getFileElementDisplayByType(_filetype , _fileurl , _filename));*/
}

function syncButton(buttonId){
    var buttonElement= document.getElementById(buttonId);

    for(x in webcallpeers){
        if(buttonElement.getAttribute(&quot;lastClickedBy&quot;)==webcallpeers[x].userid){
            buttonElement.setAttribute(&quot;lastClickedBy&quot; , &apos;&apos;);
            return;
        }
    }

    if(buttonElement.getAttribute(&quot;lastClickedBy&quot;)==&apos;&apos;){
        buttonElement.setAttribute(&quot;lastClickedBy&quot; , rtcConn.userid);
        rtcConn.send({
                type:&quot;buttonclick&quot;, 
                buttonName: buttonId
        });
    }
}

/* ************* file Listing container button functions --------------- */

/**
* Shows or hides file and sync activity with peers 
* @method
* @name showHideFile
* @param {id} uuid - unique universal id for the file 
* @param {dom} element - name of dom element
* @param {bloburl} fileurl - blob of the file 
* @param {string} filename - name for file 
* @param {string} filetype - type of  file 
*/
function showHideFile(uuid , elementDisplay , fileurl , filename , filetype , showHideButton ,countClicks ){
    webrtcdev.log(&quot; filehsare - show/hide button &quot;,  filename , &quot; || &quot;, countClicks);
    if (countClicks%2==1 ){
        showFile( elementDisplay , fileurl , filename , filetype );
        /*rtcConn.send({
            type:&quot;shareFileShow&quot;, 
            _uuid: uuid ,
            _element: elementDisplay,
            _fileurl : fileurl, 
            _filename : filename, 
            _filetype : filetype
        }); */
        showHideButton.innerHTML = &apos;&lt;i class=&quot;fa fa-eye-slash&quot; style=&quot;color: #615aa8;padding: 10px; font-size: larger;&quot;&gt;&lt;/i&gt;&apos;;
        webrtcdev.log(&quot; Executed script to show the file&quot;);
    } else if (countClicks%2==0 ){
        hideFile( elementDisplay, filename );
        /*rtcConn.send({
            type: &quot;shareFileHide&quot;,
            _uuid: uuid,
            _element: elementDisplay,
            _fileurl: fileurl,
            _filename: filename,
            _filetype: filetype
        });*/
        showHideButton.innerHTML = &apos;&lt;i class=&quot;fa fa-eye&quot; style=&quot;color: #615aa8;padding: 10px; font-size: larger;&quot;&gt;&lt;/i&gt;&apos;;
        webrtcdev.log(&quot; Executed script to hide the file &quot;);
    }
}

function showFile( element , fileurl , filename , filetype ){
    $(&quot;#&quot;+element).html( getFileElementDisplayByType(filetype , fileurl , filename));
}

function hideFile( element ,filename ){
    if($(&quot;#&quot;+element).has(&quot;#display&quot;+filename)){
        webrtcdev.log(&quot;hidefile &quot; ,filename , &quot; from &quot; , element);
        document.getElementById(element).innerHTML=&quot;&quot;;
    }else{
        webrtcdev.log(&quot; file is not displayed to hide  &quot;);
    }
}

function removeFile(element){
    document.getElementById(element).hidden=true;
}


function downloadFile(uuid , element , fileurl , _filename , filetype){
    webrtcdev.log(&quot; downloadButton _filename &quot;, _filename , &quot;  filetype &quot;, filetype);
    if (filetype ==&quot;sessionRecording&quot;){
        var a = document.createElement(&quot;a&quot;);
        document.body.appendChild(a);
        a.style = &quot;display: none&quot;;
        a.href = fileurl.audiofileurl;
        //a.download = _filename.audioname+&quot;.wav&quot;;
        a.download = peerinfo.filearray[0] + &quot;.wav&quot;;
        a.click();
        window.URL.revokeObjectURL(fileurl.audiofileurl);

        var v = document.createElement(&quot;a&quot;);
        document.body.appendChild(v);
        v.style = &quot;display: none&quot;;
        v.href = fileurl.videofileurl;
        //v.download = _filename.videoname+&quot;.webm&quot;;
        v.download = peerinfo.filearray[1] + &quot;.webm&quot;;
        v.click();
        window.URL.revokeObjectURL(fileurl.videofileurl);

        /*window.open(fileurl.audiofileurl , filename.audioname+&quot;.wav&quot;);
        window.open(fileurl.videofileurl , filename.videoname+&quot;.webm&quot;);*/
        /*         
        var zip = new JSZip();
        zip.file(filename.videoname , filename.videofileurl);
        var audio = zip.folder(&quot;audio&quot;);
        audio.file(filename.audioname, fileurl.audiofileurl);
        zip.generateAsync({type:&quot;blob&quot;})
        .then(function(content) {
            // see FileSaver.js
            //saveAs(content, &quot;sessionRecording.zip&quot;);
            window.open(content , &quot;sessionRecording.zip&quot;);
        });*/
    }else{ 
        window.open(fileurl , &quot;downloadedDocument&quot;);
    }
}

/**
* Creates container for file sharing
* @method
* @name createFileSharingBox
* @param {object} peerinfo - single object peerinfo from webcallpeers
* @param {dom} parent - name of dom element parent
*/
function createFileSharingBox(peerinfo, parent){
    try {
        webrtcdev.log(&quot; [ filehsreing js ]  createFileSharingBox &quot; , peerinfo, parent);
        if (document.getElementById(peerinfo.fileShare.outerbox))
            return;

        var fileSharingBox = document.createElement(&quot;div&quot;);

        if(fileshareobj.props.fileList ==&quot;single&quot;){
            fileSharingBox.className = &quot;col-md-12 fileviewing-box&quot;;
        }else {
            fileSharingBox.className = &quot;fileviewing-box&quot;;            
        }
        fileSharingBox.setAttribute(&quot;style&quot;, &quot;background-color:&quot; + peerinfo.color);
        fileSharingBox.id = peerinfo.fileShare.outerbox;

        /*--------------------------------add for File Share control Bar--------------------*/
        /*    
        &lt;div class=&quot;button-corner&quot;&gt;
            &lt;span data-placement=&quot;bottom&quot; data-toggle=&quot;tooltip&quot; title=&quot;&quot; data-original-title=&quot;minimize&quot;&gt;&lt;i class=&quot;fa fa-minus-square&quot;&gt;&lt;/i&gt;&lt;/span&gt;
            &lt;span data-placement=&quot;bottom&quot; data-toggle=&quot;tooltip&quot; title=&quot;&quot; data-original-title=&quot;maxsimize&quot;&gt;&lt;i class=&quot;fa fa-external-link-square&quot;&gt;&lt;/i&gt;&lt;/span&gt;
            &lt;span data-placement=&quot;bottom&quot; data-toggle=&quot;tooltip&quot; title=&quot;&quot; data-original-title=&quot;close&quot;&gt;&lt;i class=&quot;fa fa-times-circle&quot;&gt;&lt;/i&gt;&lt;/span&gt;        
        &lt;/div&gt;*/

        var fileControlBar = document.createElement(&quot;p&quot;);
        fileControlBar.id = peerinfo.fileShare.container + &quot;controlBar&quot;;
        fileControlBar.appendChild(document.createTextNode( peerinfo.name));
        //fileControlBar.appendChild(document.createTextNode(&quot;File Viewer &quot; + peerinfo.name));

        // Minimize the File viewer box 
        var minButton = document.createElement(&quot;span&quot;);
        /*    minButton.className=&quot;btn btn-default glyphicon glyphicon-import closeButton&quot;;
        minButton.innerHTML=&quot;Minimize&quot;;*/
        if (fileshareobj.fileshare.minicon) {
            var img = document.createElement(&quot;img&quot;);
            img.src = fileshareobj.fileshare.minicon;
            minButton.appendChild(img);
        } else {
            minButton.innerHTML = &apos;&lt;i class=&quot;fa fa-minus-square&quot; style=&quot;font-size: 25px;&quot;&gt;&lt;/i&gt;&apos;;
        }
        minButton.id = peerinfo.fileShare.minButton;
        minButton.style.float = &quot;right&quot;;
        minButton.style.display = &quot;none&quot;;
        minButton.setAttribute(&quot;lastClickedBy&quot;, &apos;&apos;);
        minButton.onclick = function () {
            resizeFV(peerinfo.userid, minButton.id, peerinfo.fileShare.outerbox);
            minButton.style.display = &quot;none&quot;;
            maxButton.style.display = &quot;block&quot;;
        }

        // Mximize the file viewer box
        var maxButton = document.createElement(&quot;span&quot;);
        /*    maxButton.className= &quot;btn btn-default glyphicon glyphicon-export closeButton&quot;;
        maxButton.innerHTML=&quot;Maximize&quot;;*/
        if (fileshareobj.fileshare.minicon) {
            var img = document.createElement(&quot;img&quot;);
            img.src = fileshareobj.fileshare.maxicon;
            maxButton.appendChild(img);
        } else {
            maxButton.innerHTML = &apos;&lt;i class=&quot;fa fa-external-link-square&quot; style=&quot;font-size: 25px;&quot;&gt;&lt;/i&gt;&apos;;
        }
        maxButton.id = peerinfo.fileShare.maxButton;
        maxButton.style.float = &quot;right&quot;;
        maxButton.style.display = &quot;block&quot;;
        maxButton.setAttribute(&quot;lastClickedBy&quot;, &apos;&apos;);
        maxButton.onclick = function () {
            maxFV(peerinfo.userid, maxButton.id, peerinfo.fileShare.outerbox);
            maxButton.style.display = &quot;none&quot;;
            minButton.style.display = &quot;block&quot;;
        }

        // close the file viewer box
        var closeButton = document.createElement(&quot;span&quot;);
        /* closeButton.className=&quot;btn btn-default glyphicon glyphicon-remove closeButton&quot;;
        closeButton.innerHTML=&quot;Close&quot;;*/
        if (fileshareobj.fileshare.closeicon) {
            var img = document.createElement(&quot;img&quot;);
            img.src = fileshareobj.fileshare.closeicon;
            closeButton.appendChild(img);
        } else {
            closeButton.innerHTML = &apos;&lt;i class=&quot;fa fa-times-circle&quot; style=&quot;font-size: 25px;&quot;&gt;&lt;/i&gt;&apos;;
        }
        closeButton.id = peerinfo.fileShare.closeButton;
        closeButton.style.float = &quot;right&quot;;
        closeButton.setAttribute(&quot;lastClickedBy&quot;, &apos;&apos;);
        closeButton.onclick = function () {
            closeFV(peerinfo.userid, closeButton.id, peerinfo.fileShare.container);
        }

        // rotate the content of file viewer box
        var angle = 0;
        var rotateButton = document.createElement(&quot;span&quot;);
        if (fileshareobj.fileshare.rotateicon) {
            var img = document.createElement(&quot;img&quot;);
            img.src = fileshareobj.fileshare.rotateicon;
            rotateButton.appendChild(img);
        } else {
            rotateButton.innerHTML = &apos;&lt;i class=&quot;fa fa-mail-forward&quot; style=&quot;font-size: 25px;&quot;&gt;&lt;/i&gt;&apos;;
        }
        rotateButton.id = &quot;btnRotate&quot;;
        rotateButton.style.float = &quot;right&quot;;
        rotateButton.onclick = function () {
            var img = document.getElementById(peerinfo.fileShare.container).firstChild;
            angle = (angle + 90) % 360;
            img.className = &quot;rotate&quot; + angle;
        }

        fileControlBar.appendChild(rotateButton);
        fileControlBar.appendChild(minButton);
        fileControlBar.appendChild(maxButton);
        fileControlBar.appendChild(closeButton);

        /*--------------------------------add for File Share Container--------------------*/
        var fileShareContainer = document.createElement(&quot;div&quot;);
        fileShareContainer.className = &quot;filesharingWidget&quot;;
        fileShareContainer.id = peerinfo.fileShare.container;

        var fillerArea = document.createElement(&quot;p&quot;);
        fillerArea.className = &quot;filler&quot;;

        if (debug) {
            var nameBox = document.createElement(&quot;span&quot;);
            nameBox.innerHTML = &quot;&lt;br/&gt;&quot; + fileShareContainer.id + &quot;&lt;br/&gt;&quot;;
            fileSharingBox.appendChild(nameBox);
        }

        linebreak = document.createElement(&quot;br&quot;);

        fileSharingBox.appendChild(fileControlBar);
        fileSharingBox.appendChild(linebreak);
        fileSharingBox.appendChild(linebreak);
        fileSharingBox.appendChild(fileShareContainer);
        fileSharingBox.appendChild(fillerArea);

        parent.appendChild(fileSharingBox);
    } catch (e) {
        webrtcdev.error(&quot; createFileSharingBox &quot;, e);
    }
}

/**
* Creates container for file listing
* @method
* @name createFileListingBox
* @param {object} peerinfo - single object peerinfo from webcallpeers
* @param {dom} parent - name of dom element parent
*/
function createFileListingBox(peerinfo, parent){

    try {
        if (document.getElementById(peerinfo.fileList.outerbox))
            return;

        var fileListingBox = document.createElement(&quot;div&quot;);

        if(fileshareobj.props.fileList ==&quot;single&quot;){
            fileListingBox.className = &quot;col-sm-12 filesharing-box&quot;;
        }else {
            fileListingBox.className = &quot;col-sm-6 filesharing-box&quot;;            
        }

        fileListingBox.id = peerinfo.fileList.outerbox;
        //fileListingBox.setAttribute(&quot;style&quot;, &quot;background-color:&quot; + peerinfo.color);

        /*--------------------------------add for File List control Bar--------------------*/

        var fileListControlBar = document.createElement(&quot;p&quot;);
        //fileListControlBar.appendChild(document.createTextNode(peerinfo.name + &quot;     &quot;));
        //fileListControlBar.appendChild(document.createTextNode(&quot;Uploaded Files &quot; + peerinfo.name + &quot;     &quot;));

        /*
        var fileHelpButton= document.createElement(&quot;span&quot;);s
        fileHelpButton.className=&quot;btn btn-default glyphicon glyphicon-question-sign closeButton&quot;;
        fileHelpButton.innerHTML=&quot;Help&quot;;
        /*fileListControlBar.appendChild(fileHelpButton);*/

        var minButton = document.createElement(&quot;span&quot;);
        minButton.innerHTML = &apos;&lt;i class=&quot;fa fa-minus-square&quot; style=&quot;font-size: 20px;&gt;&lt;/i&gt;&apos;;
        minButton.id = peerinfo.fileShare.minButton;
        minButton.setAttribute(&quot;lastClickedBy&quot;, &apos;&apos;);
        minButton.onclick = function () {
            resizeFV(peerinfo.userid, minButton.id, peerinfo.fileShare.outerbox);
        }

        var maxButton = document.createElement(&quot;span&quot;);
        maxButton.innerHTML = &apos;&lt;i class=&quot;fa fa-external-link-square&quot; style=&quot;font-size: 20px;&gt;&lt;/i&gt;&apos;;
        maxButton.id = peerinfo.fileShare.maxButton;
        maxButton.setAttribute(&quot;lastClickedBy&quot;, &apos;&apos;);
        maxButton.onclick = function () {
            maxFV(peerinfo.userid, maxButton.id, peerinfo.fileShare.outerbox);
        }

        var closeButton = document.createElement(&quot;span&quot;);
        closeButton.innerHTML = &apos;&lt;i class=&quot;fa fa-times-circle&quot; style=&quot;font-size: 20px;&gt;&lt;/i&gt;&apos;;
        closeButton.id = peerinfo.fileShare.closeButton;
        closeButton.setAttribute(&quot;lastClickedBy&quot;, &apos;&apos;);
        closeButton.onclick = function () {
            closeFV(peerinfo.userid, closeButton.id, peerinfo.fileShare.container);
        }

        fileListControlBar.appendChild(minButton);
        fileListControlBar.appendChild(maxButton);
        fileListControlBar.appendChild(closeButton);


        /*--------------------------------add for File List Container--------------------*/
        var fileListContainer = document.createElement(&quot;div&quot;);
        fileListContainer.id = peerinfo.fileList.container;

        var fileProgress = document.createElement(&quot;div&quot;);

        if (debug) {
            var nameBox = document.createElement(&quot;span&quot;);
            nameBox.innerHTML = fileListContainer.id;
            fileListingBox.appendChild(nameBox);
        }

        fileListingBox.appendChild(fileListControlBar);
        fileListingBox.appendChild(fileListContainer);
        fileListingBox.appendChild(fileProgress);

        parent.appendChild(fileListingBox);
    } catch (e) {
        webrtcdev.error(&quot; createFileListingBox &quot;, e);
    }
}

// __________________
// createFileSharingDiv.js

/**
 * {@link createFileSharingDiv} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns dom for Filesharing conatiner.
 * @license {@link https://github.com/altanai/webrtc#license|MIT}
 * @author {@link http://www.altanai.com|Altanai}
 * @typedef createFileSharingDiv
 * @class
 * @example
 * createFileSharingDiv(peerinfo)
 * @see {@link https://github.com/altanai/webrtc|webrtc Source Code}
 * @param {object} config - {
color :&quot;#a69afe&quot;
controlBarName : &quot;control-video4wm0h338u9p&quot;
email : &quot;abc@gmail.com&quot;
fileList : {
    outerbox: &quot;widget-filelisting-box4wm0h338u9p&quot;, 
    container: &quot;widget-filelisting-container4wm0h338u9p&quot;
}
fileShare : {
    outerbox: &quot;widget-filesharing-box4wm0h338u9p&quot;, 
    container: &quot;widget-filesharing-container4wm0h338u9p&quot;, 
    minButton: &quot;widget-filesharing-minbutton4wm0h338u9p&quot;, 
    maxButton: &quot;widget-filesharing-maxbutton4wm0h338u9p&quot;, 
    closeButton: &quot;widget-filesharing-closebutton4wm0h338u9p&quot;
}
filearray : []
name : &quot;REMOTE&quot;
role : &quot;participant&quot;
stream : MediaStream {isAudio: false, isVideo: true, isScreen: false, streamid: &quot;aXSL939WBQZwTpytTnOMR9wnzZJQT8VGT8hF&quot;, type: &quot;remote&quot;, &#x2026;}
streamid : &quot;aXSL939WBQZwTpytTnOMR9wnzZJQT8VGT8hF&quot;
type : &quot;remote&quot;
userid : &quot;4wm0h338u9p&quot;
vid : &quot;videoremote_4wm0h338u9p&quot;
videoClassName : null
videoContainer : &quot;video4wm0h338u9p&quot;
videoHeight : null
}
 */
function createFileSharingDiv(peerinfo){
    webrtcdev.log(&quot; -------createFileSharingDiv  &quot; , peerinfo);

    // When the peerinfo role is inspctor but self role is not inspector only then exit 
    if(peerinfo.role ==&quot;inspector&quot; &amp;&amp; role !=&quot;inspector&quot;) return;

    if (!document.getElementById(peerinfo.fileShare.outerbox)){
        var parentFileShareContainer = document.getElementById(fileshareobj.fileShareContainer);
        createFileSharingBox(peerinfo , parentFileShareContainer);
    }

    if(!document.getElementById(peerinfo.fileList.outerbox)){
        var parentFileListContainer = document.getElementById(fileshareobj.fileListContainer);
        createFileListingBox(peerinfo , parentFileListContainer);
    }
}

/* ************* file sharing container button functions --------------- */
function closeFV(userid,  buttonId , selectedFileSharingBox){
    document.getElementById(selectedFileSharingBox).innerHTML=&quot;&quot;;
    /*syncButton(buttonId);*/
}

function resizeFV(userid,  buttonId , selectedFileSharingBox){
    for(x in webcallpeers){
        if(webcallpeers[x].fileShare.outerbox==selectedFileSharingBox) {
            document.getElementById(selectedFileSharingBox).hidden=false;
            document.getElementById(selectedFileSharingBox).style.width=&quot;50%&quot;;
        }else{
            document.getElementById(webcallpeers[x].fileShare.outerbox).hidden=false;
            document.getElementById(webcallpeers[x].fileShare.outerbox).style.width=&quot;50%&quot;;
        }
    }
    /*  
    document.getElementById(selectedFileSharingBox).hidden=false;
    document.getElementById(selectedFileSharingBox).style.width=&quot;50%&quot;;   
    syncButton(buttonId);*/
}

function minFV(userid, buttonId , selectedFileSharingBox){
    document.getElementById(selectedFileSharingBox).hidden=false;
    document.getElementById(selectedFileSharingBox).style.width=&quot;50%&quot;;
    document.getElementById(selectedFileSharingBox).style.height=&quot;10%&quot;;
    
    /*syncButton(buttonId);*/
}

function maxFV(userid,  buttonId ,  selectedFileSharingBox){
    for(x in webcallpeers){
        if(webcallpeers[x].fileShare.outerbox==selectedFileSharingBox) {
            document.getElementById(selectedFileSharingBox).hidden=false;
            document.getElementById(selectedFileSharingBox).style.width=&quot;100%&quot;;
        }else{
            document.getElementById(webcallpeers[x].fileShare.outerbox).hidden=true;
            document.getElementById(webcallpeers[x].fileShare.outerbox).style.width=&quot;0%&quot;;
        }
    }
    /*syncButton(buttonId);  */
}

/**
 * Save File Modal Popup
 * @method
 * @name createModalPopup
 * @param {string} filetype
 */
function createModalPopup(filetype ){
    webrtcdev.log( &quot; create Modal popup for filetype &quot; , filetype);

    var mainDiv= document.getElementById(&quot;mainDiv&quot;);

    if(document.getElementById(&quot;saveModal&quot;)){
        mainDiv.removeChild(document.getElementById(&quot;saveModal&quot;));
    }

    var modalBox=document.createElement(&quot;div&quot;);
    modalBox.className=&quot;modal fade&quot;;
    modalBox.setAttribute(&quot;role&quot; , &quot;dialog&quot;);
    modalBox.id=&quot;saveModal&quot;;

    var modalinnerBox=document.createElement(&quot;div&quot;);
    modalinnerBox.className=&quot;modal-dialog&quot;;

    var modal=document.createElement(&quot;div&quot;);
    modal.className = &quot;modal-content&quot;;

    var modalheader= document.createElement(&quot;div&quot;);
    modalheader.className = &quot;modal-header&quot;;

    var closeButton= document.createElement(&quot;button&quot;);
    closeButton.className=&quot;close&quot;;
    closeButton.setAttribute(&quot;data-dismiss&quot;, &quot;modal&quot;);
    closeButton.innerHTML=&quot;&amp;times;&quot;;

    var title=document.createElement(&quot;h4&quot;);
    title.className=&quot;modal-title&quot;;
    title.innerHTML=&quot;Save File&quot;;   
    title.setAttribute(&quot;float&quot; ,  &quot;left&quot;);
    modalheader.appendChild(title);
    modalheader.appendChild(closeButton);

    var modalbody = document.createElement(&quot;div&quot;);
    modalbody.className = &quot;modal-body&quot;;
    modalbody.innerHTML = &quot;&quot;;

    var body=document.createElement(&quot;div&quot;);
    switch(filetype){
        case  &quot;blobcanvas&quot;:
            title.innerHTML=&quot;Save Drawing&quot;;  
            var d1=document.createElement(&quot;div&quot;);
            d1.innerHTML= &quot;Right Click on Save, pop up window gives following info: Right Click on Draw image, Click Save As when window opens up.&quot;;
            body.appendChild(d1);
            break;
        case &quot;application/pdf&quot;:
            title.innerHTML=&quot;Save PDF&quot;; 
            var d1= document.createElement(&quot;div&quot;);
            d1.innerHTML=&apos;Click DOWNLOAD on top of the doc . Click SAVE AS when window opens up&apos;;
            var i1 = document.createElement(&quot;img&quot;);
            i1.src= &quot;images/savefile.PNG&quot;;
            body.appendChild(d1);
            body.appendChild(i1);
            break; 
        // browser supported formats 
        case &quot;image/jpeg&quot;:
        case &quot;image/png&quot;:
        case &quot;video/mov&quot;: 
        case &quot;video/webm&quot;:
        case &quot;imagesnapshot&quot;:
            title.innerHTML=&quot;Save Picture / Video&quot;; 
            var d1=document.createElement(&quot;div&quot;);
            d1.innerHTML=&apos;Right Click on the FILE . Click SAVE AS when window opens up&apos;;
            body.appendChild(d1);
            break; 
        // browser supported audio formats    
        case &quot;audio/mp3&quot;:
            title.innerHTML=&quot;Save Music File&quot;; 
            var d1= document.createElement(&quot;div&quot;);
            d1.innerHTML=&quot;Right Click on the FILE (play display line). Click SAVE AS when window opens up&quot;;
            body.appendChild(d1);
            break;
        // propertiary stuff that will not open in browser 
        case &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;:
        case &quot;application/vnd.ms-excel&quot;:
        case &quot;application/vnd.openxmlformats-officedocument.presentationml.presentation&quot;:
        case &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;: 
        case &quot;video/x-ms-wmv&quot;:
            title.innerHTML=&quot;Save Microsoft Office / Libra / Open Office Documents&quot;; 
            var d1= document.createElement(&quot;div&quot;);
            d1.innerHTML=&quot;Click bottom DOWNLOAD in Uploaded Files box . File shows up below the Uploaded Files box. Click arrow on right, then select OPEN  . File Opens in New Window, then &apos;Save As&apos;.&quot;;
            body.appendChild(d1);
            break; 
        case &quot;sessionRecording&quot;:
            title.innerHTML=&quot;Save Session Recording&quot;;
            var d1=document.createElement(&quot;div&quot;);
            d1.innerHTML=&apos;Extract the video and audio recording from the dowloaded compresed file and play together &apos;;
            body.appendChild(d1);
            break;
        default :
            var d1=document.createElement(&quot;div&quot;);
            d1.innerHTML=&apos;Document is Unrecognizable, cannot be saved, but can be shared with Remote. Use/Click Screen Share for Remote to view your screen. Then open the document on your screen.&apos;;
            body.appendChild(d1);
            break;
    }

    modalbody.appendChild(body);
    modal.appendChild(modalheader);
    modal.appendChild(modalbody);

    modalinnerBox.appendChild(modal);
    modalBox.appendChild(modalinnerBox);

    mainDiv.appendChild(modalBox);
}</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
